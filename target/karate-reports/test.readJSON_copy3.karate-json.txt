{"failedCount":1,"prefixedPath":"classpath:test\/readJSON_copy3.feature","packageQualifiedName":"test.readJSON_copy3","loopIndex":-1,"relativePath":"test\/readJSON_copy3.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":45131360,"errorMessage":"js failed:\n>>>>\n01: var jwt = require(\"jsonwebtoken\")\n02: const reqBody = {\n03: mobileNumber: \"+918369221597\",\n04: deviceId: \"123456\",\n05: };\n06: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n07: function generateToken(reqBody, secretKey) {\n08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n09: return token;\n10: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/readJSON_copy3.feature:5","millis":45.13136,"status":"failed"},"step":{"endLine":20,"comments":["#* def functions = read('jwttoken.js')"],"background":true,"line":5,"prefix":"*","docString":"var jwt = require(\"jsonwebtoken\")\nconst reqBody = {\nmobileNumber: \"+918369221597\",\ndeviceId: \"123456\",\n};\nconst secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\nfunction generateToken(reqBody, secretKey) {\nconst token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\nreturn token;\n}","index":0,"text":"def token ="},"stepLog":"15:24:59.983 karate.env system property was: null \n15:25:00.122 classpath:test\/readJSON_copy3.feature:5\n* def token =\n\"\"\"\nvar jwt = require(\"jsonwebtoken\")\nconst reqBody = {\nmobileNumber: \"+918369221597\",\ndeviceId: \"123456\",\n};\nconst secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\nfunction generateToken(reqBody, secretKey) {\nconst token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\nreturn token;\n}\n\"\"\"\njs failed:\n>>>>\n01: var jwt = require(\"jsonwebtoken\")\n02: const reqBody = {\n03: mobileNumber: \"+918369221597\",\n04: deviceId: \"123456\",\n05: };\n06: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n07: function generateToken(reqBody, secretKey) {\n08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n09: return token;\n10: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/readJSON_copy3.feature:5\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":22,"prefix":"*","index":1,"text":"def jwttoken = token()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":23,"prefix":"Then","index":2,"text":"print jwttoken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":32,"background":true,"line":25,"prefix":"*","docString":"{\n\"mobileNumber\": \"+918722000003\",\n\"deviceId\": \"9F0D7162-F90E-41B7-8357-88891C33F0ED\",\n}","index":3,"text":"def requestPayload ="}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"Given","index":0,"text":"url baseurl+'\/api\/v1\/bnpl\/processPayment'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":1,"text":"request requestPayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":2,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":3,"text":"header Authorization = 'jwttoken'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":4,"text":"header TENANT = 'KOTAK_BNPL'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":5,"text":"header public-key = 'Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":6,"text":"header User-Agent = 'PostmanRuntime\/7.31.1'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"And","index":9,"text":"match $.result.status == 'failed'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":10,"text":"match $.result.statusCode == 'PAY_1002'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":11,"text":"match $.result.message == 'Request expired.'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":12,"text":"print response"}}],"line":33,"description":"","durationMillis":45.13136,"failed":true,"error":"js failed:\n>>>>\n01: var jwt = require(\"jsonwebtoken\")\n02: const reqBody = {\n03: mobileNumber: \"+918369221597\",\n04: deviceId: \"123456\",\n05: };\n06: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n07: function generateToken(reqBody, secretKey) {\n08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n09: return token;\n10: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/readJSON_copy3.feature:5","executorName":"main","name":"Testing a POST api of process payment","startTime":1680688499709,"refId":"[1:33]","endTime":1680688500124,"exampleIndex":-1}],"callDepth":0,"name":"process payment api testing to check error message validation","description":"","resultDate":"2023-04-05 03:25:00 pm","durationMillis":45.13136,"passedCount":0}