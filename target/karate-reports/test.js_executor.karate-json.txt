{"failedCount":1,"prefixedPath":"classpath:test\/js_executor.feature","packageQualifiedName":"test.js_executor","loopIndex":-1,"relativePath":"test\/js_executor.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":38063186,"errorMessage":"js failed:\n>>>>\n01: const jwt = require(\"jsonwebtoken\");\n02: const fs = require('fs');\n03: const reqBody = {\n04:   mobileNumber: \"+918369221597\",\n05:   deviceId: \"123456\",\n06:   channel: \"app\",\n07:   merchantId: \"fzAMJrXcr\",\n08:   amount: \"1000\",\n09:   currency: \"INR\"\n10: };\n11: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n12: function generateToken(reqBody, secretKey) {\n13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n14:   return token;\n15: }\n16: const token = generateToken(reqBody, secretKey);\n17: try {\n18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })\n19: );\n20:   \/\/ file written successfully\n21: } catch (err) {\n22:   console.error(err);\n23: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/js_executor.feature:6","millis":38.063186,"status":"failed"},"step":{"endLine":35,"comments":["# javascript (will be evaluated)","#karate.call(\"Desktop\/myproject\/karate_demo\/src\/test\/java\/test\")"],"line":6,"prefix":"*","docString":"const jwt = require(\"jsonwebtoken\");\nconst fs = require('fs');\nconst reqBody = {\n  mobileNumber: \"+918369221597\",\n  deviceId: \"123456\",\n  channel: \"app\",\n  merchantId: \"fzAMJrXcr\",\n  amount: \"1000\",\n  currency: \"INR\"\n};\nconst secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\nfunction generateToken(reqBody, secretKey) {\n  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n  return token;\n}\nconst token = generateToken(reqBody, secretKey);\ntry {\n  fs.writeFileSync('token.json', JSON.stringify({ token: token })\n);\n  \/\/ file written successfully\n} catch (err) {\n  console.error(err);\n}","index":0,"text":"def generateToken ="},"stepLog":"17:27:11.906 karate.env system property was: null \n17:27:11.996 classpath:test\/js_executor.feature:6\n* def generateToken =\n\"\"\"\nconst jwt = require(\"jsonwebtoken\");\nconst fs = require('fs');\nconst reqBody = {\n  mobileNumber: \"+918369221597\",\n  deviceId: \"123456\",\n  channel: \"app\",\n  merchantId: \"fzAMJrXcr\",\n  amount: \"1000\",\n  currency: \"INR\"\n};\nconst secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\nfunction generateToken(reqBody, secretKey) {\n  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n  return token;\n}\nconst token = generateToken(reqBody, secretKey);\ntry {\n  fs.writeFileSync('token.json', JSON.stringify({ token: token })\n);\n  \/\/ file written successfully\n} catch (err) {\n  console.error(err);\n}\n\"\"\"\njs failed:\n>>>>\n01: const jwt = require(\"jsonwebtoken\");\n02: const fs = require('fs');\n03: const reqBody = {\n04:   mobileNumber: \"+918369221597\",\n05:   deviceId: \"123456\",\n06:   channel: \"app\",\n07:   merchantId: \"fzAMJrXcr\",\n08:   amount: \"1000\",\n09:   currency: \"INR\"\n10: };\n11: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n12: function generateToken(reqBody, secretKey) {\n13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n14:   return token;\n15: }\n16: const token = generateToken(reqBody, secretKey);\n17: try {\n18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })\n19: );\n20:   \/\/ file written successfully\n21: } catch (err) {\n22:   console.error(err);\n23: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/js_executor.feature:6\n"}],"line":2,"description":"","durationMillis":38.063186,"failed":true,"error":"js failed:\n>>>>\n01: const jwt = require(\"jsonwebtoken\");\n02: const fs = require('fs');\n03: const reqBody = {\n04:   mobileNumber: \"+918369221597\",\n05:   deviceId: \"123456\",\n06:   channel: \"app\",\n07:   merchantId: \"fzAMJrXcr\",\n08:   amount: \"1000\",\n09:   currency: \"INR\"\n10: };\n11: const secretKey = \"sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT\";\n12: function generateToken(reqBody, secretKey) {\n13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });\n14:   return token;\n15: }\n16: const token = generateToken(reqBody, secretKey);\n17: try {\n18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })\n19: );\n20:   \/\/ file written successfully\n21: } catch (err) {\n22:   console.error(err);\n23: }\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"require\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:test\/js_executor.feature:6","executorName":"main","name":"execute java script file using feature file","startTime":1679227031722,"refId":"[1:2]","endTime":1679227031997,"exampleIndex":-1}],"callDepth":0,"name":"Execute js file","description":"","resultDate":"2023-03-19 05:27:11 pm","durationMillis":38.063186,"passedCount":0}