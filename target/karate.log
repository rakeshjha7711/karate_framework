16:09:49.099 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:09:50.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:09:50.906 [main] INFO  com.intuit.karate - JWTtoken is : null 
16:09:51.017 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:09:53.772 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:10:04.876 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:10:06.851 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:10:06.889 [main] INFO  com.intuit.karate - JWTtoken is : null 
16:10:06.988 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:10:09.339 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:47.526 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:49.628 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:49.699 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:12:52.628 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:24.985 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:26.766 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:17:27.616 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:17:28.197 [main] DEBUG com.intuit.karate - response time in milliseconds: 575
1 < 200
1 < Server: nginx
1 < Date: Fri, 10 Mar 2023 10:47:28 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:17:28.271 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:17:30.219 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:41.563 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:43.515 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:17:44.091 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:17:44.481 [main] DEBUG com.intuit.karate - response time in milliseconds: 336
1 < 200
1 < Server: nginx
1 < Date: Fri, 10 Mar 2023 10:47:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:17:44.547 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:17:46.801 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:09.904 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:11.447 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:11.972 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:53:12.556 [main] DEBUG com.intuit.karate - response time in milliseconds: 579
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:23:14 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 22
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:53:12.591 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:53:14.303 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:25.825 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:26.957 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:27.368 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:55:27.691 [main] DEBUG com.intuit.karate - response time in milliseconds: 316
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:25:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:55:27.744 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:55:36.443 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:37.711 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:38.207 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:55:38.592 [main] DEBUG com.intuit.karate - response time in milliseconds: 379
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:25:40 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:55:38.622 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:02:35.050 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:36.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:37.459 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:02:37.783 [main] DEBUG com.intuit.karate - response time in milliseconds: 321
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:32:39 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:02:37.813 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:02:46.622 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:47.923 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:48.426 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:02:48.934 [main] DEBUG com.intuit.karate - response time in milliseconds: 500
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:32:50 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:02:48.999 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:05:02.293 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:03.564 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:04.055 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:05:04.408 [main] DEBUG com.intuit.karate - response time in milliseconds: 351
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:35:06 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:05:04.434 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:05:13.191 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:14.474 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:14.944 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:05:15.297 [main] DEBUG com.intuit.karate - response time in milliseconds: 350
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:35:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:05:15.331 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:22:22.643 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:22:23.795 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:22:24.242 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:22:24.584 [main] DEBUG com.intuit.karate - response time in milliseconds: 338
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:52:26 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:22:24.609 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:22:32.830 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:22:33.954 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:22:34.421 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:22:34.766 [main] DEBUG com.intuit.karate - response time in milliseconds: 342
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:52:36 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:22:34.797 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:25:01.687 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:04.775 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:05.252 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:05.620 [main] DEBUG com.intuit.karate - response time in milliseconds: 365
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:55:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:25:05.653 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:25:15.168 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:16.471 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:16.965 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:17.473 [main] DEBUG com.intuit.karate - response time in milliseconds: 501
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:55:17 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:25:17.525 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:30:13.951 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:30:15.207 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:30:15.664 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:30:16.013 [main] DEBUG com.intuit.karate - response time in milliseconds: 346
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 10:00:15 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:30:16.042 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:30:25.562 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:30:26.940 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:30:27.441 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:30:27.774 [main] DEBUG com.intuit.karate - response time in milliseconds: 330
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 10:00:27 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:30:27.799 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:58:46.412 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:58:47.797 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:58:47.944 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:58
And header Authorization = call read('cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
js failed:
>>>>
01: read('cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment.feature:58
15:59:35.048 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:59:36.377 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:59:36.534 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:58
And header Authorization = call read('cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
js failed:
>>>>
01: read('cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment.feature:58
12:20:50.283 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:20:51.747 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:20:52.292 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:20:52.708 [main] DEBUG com.intuit.karate - response time in milliseconds: 414
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 06:50:52 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:20:52.734 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
15:25:04.580 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:07.334 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:08.554 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:09.527 [main] DEBUG com.intuit.karate - response time in milliseconds: 949
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 09:55:09 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 12
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:25:09.594 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
15:38:14.249 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:38:15.512 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:38:16.005 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:38:16.379 [main] DEBUG com.intuit.karate - response time in milliseconds: 368
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 10:08:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 27
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:38:16.414 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
16:25:12.007 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment.feature - mismatched input '/' expecting <EOF>
16:01:56.057 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:01:57.359 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:01:57.853 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:01:58.228 [main] DEBUG com.intuit.karate - response time in milliseconds: 371
1 < 200
1 < Server: nginx
1 < Date: Sun, 19 Mar 2023 10:31:58 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 11
1 < X-Kong-Proxy-Latency: 3
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:01:58.272 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:04:31.643 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:04:33.172 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:04:33.717 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:04:34.077 [main] DEBUG com.intuit.karate - response time in milliseconds: 356
1 < 200
1 < Server: nginx
1 < Date: Sun, 19 Mar 2023 10:34:34 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:04:34.104 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:58:30.118 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:31.655 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:54.585 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:55.962 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:01:19.841 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:01:21.347 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:22.022 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:26:23.534 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:23.582 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def *generateToken* =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
invalid variable name: *generateToken*
classpath:test/js_executor.feature:6
17:27:10.686 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:11.902 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:11.996 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:20:32.144 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:20:34.373 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:20:34.454 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
classpath:test/processPayment.feature:7
11:21:06.552 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:21:07.873 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:21:08.506 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jwttoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:21:08.910 [main] DEBUG com.intuit.karate - response time in milliseconds: 401
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 05:51:08 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:21:08.944 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
11:22:18.821 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:22:20.315 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:22:20.890 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:22:21.230 [main] DEBUG com.intuit.karate - response time in milliseconds: 333
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 05:52:21 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 5
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:22:21.269 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:56:41.652 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:56:43.321 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:56:43.868 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:56:44.294 [main] DEBUG com.intuit.karate - response time in milliseconds: 423
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 06:26:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:56:44.323 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:03:41.200 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:03:42.424 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:03:42.862 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:03:43.270 [main] DEBUG com.intuit.karate - response time in milliseconds: 404
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 06:33:43 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:03:43.296 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:04:21.498 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:04:22.772 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:04:22.973 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:05:15.027 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:05:16.167 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:05:16.240 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/home/livquik/Desktop/karate_demo/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:12:36.416 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:12:37.731 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:12:37.860 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:13:13.858 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:13:15.170 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:13:15.349 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:../myproject/token.json')
js failed:
>>>>
01: read('classpath:../myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ../myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:13:51.788 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:13:53.087 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:13:53.268 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:28:38.835 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:29:40.678 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:35:35.007 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:38:24.805 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:39:48.188 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:39:49.959 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:39:50.090 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:token.json')
js failed:
>>>>
01: read('classpath:token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:40:26.008 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:40:27.316 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:40:27.466 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/token.json')
js failed:
>>>>
01: read('classpath:/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:43:16.811 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:43:18.234 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:43:18.380 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:43:18.386 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ded token = 'token.json'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: ded token = 'token.json'
classpath:test/processPayment_copy.feature:10
12:44:29.406 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:30.738 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:44:30.845 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:44:30.852 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ded token = 'token.json'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: ded token = 'token.json'
classpath:test/processPayment_copy.feature:10
12:51:10.563 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:51:12.389 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:51:12.447 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ROOT_DIR = os.path.dirname(os.path.abspath(__file__))
no step-definition method match found for: ROOT_DIR = os.path.dirname(os.path.abspath(__file__))
classpath:test/processPayment_copy.feature:10
12:55:03.036 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:56:28.128 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:57:29.612 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:58:44.660 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:59:07.797 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:04:45.497 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:06:34.615 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n\n\n"""\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:09:26.428 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:09:28.110 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:09:28.252 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:11:02.063 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:11:03.428 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:11:03.556 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* def print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def print jwttoken
classpath:test/processPayment_copy.feature:9
13:11:32.198 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:11:33.577 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:11:33.695 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:13:22.466 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:13:23.781 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:13:23.933 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:13:49.851 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:13:51.227 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:13:51.356 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:15:06.212 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:16:08.739 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:16:10.261 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:16:10.510 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:17:12.161 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:17:13.658 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:17:13.787 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:18:49.139 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:18:50.604 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:18:50.715 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:20:12.990 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:20:14.326 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:20:14.446 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:20:47.398 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:20:48.850 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:20:48.932 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('./token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def jwttoken = read('./token.json')
classpath:test/processPayment_copy.feature:7
13:21:29.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:21:31.397 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:21:31.507 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:55:13.459 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:14.742 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:14.846 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:57:31.806 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:33.005 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:33.119 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:58:35.297 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:58:36.575 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:58:36.694 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:14:11.816 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:14:13.208 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:14:13.344 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:src/testjava/test/token.json')
js failed:
>>>>
01: read('classpath:src/testjava/test/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/testjava/test/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
15:14:46.831 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:14:47.934 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:14:48.061 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:./src/testjava/test/token.json')
js failed:
>>>>
01: read('classpath:./src/testjava/test/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./src/testjava/test/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
15:15:07.977 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:09.393 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:15:09.560 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:16:08.487 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:16:09.648 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:16:09.772 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:19:17.934 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:19:19.124 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:19:19.366 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:30:46.642 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:33:27.597 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:34:10.300 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:34:11.576 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:34:11.620 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:5
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment_copy.feature:5
15:35:27.429 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:35:28.684 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:35:29.248 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:35:29.633 [main] DEBUG com.intuit.karate - response time in milliseconds: 381
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 10:05:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:35:29.662 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:41:29.844 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:47:44.060 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '<EOF>' expecting TABLE_ROW
15:49:18.670 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '<EOF>' expecting TABLE_ROW
15:50:20.830 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:50:22.028 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:50:22.073 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/readJSON.feature:5
15:51:00.803 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:51:02.042 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:51:02.191 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:44
And header Authorization = <token>
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 8; XML document structures must start and end within the same entity.
classpath:test/readJSON.feature:44
15:52:27.308 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:52:28.437 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:52:28.871 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: fdgfdg
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:52:29.223 [main] DEBUG com.intuit.karate - response time in milliseconds: 348
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 10:22:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:52:29.251 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:55:04.761 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - extraneous input '\n\n\n\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
16:04:47.094 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:04:48.355 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:04:48.479 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print token
classpath:test/readJSON.feature:16
16:05:19.770 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:05:21.001 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:05:21.118 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* def print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def print token
classpath:test/readJSON.feature:16
16:19:33.493 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:19:34.832 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:19:34.974 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print token
classpath:test/readJSON.feature:16
16:20:00.690 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:01.946 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:01.997 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('classpath:token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('classpath:token.json')
classpath:test/readJSON.feature:15
16:20:39.155 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:40.410 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:40.452 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('token.json')
classpath:test/readJSON.feature:15
16:21:32.160 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:21:33.445 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:21:33.491 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('./token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('./token.json')
classpath:test/readJSON.feature:15
16:44:03.529 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:44:04.790 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:44:04.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:18
* def data = karate.read('classpath:/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/jwttoken.js/jwttoken.js');
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def data = karate.read('classpath:/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/jwttoken.js/jwttoken.js');
classpath:test/readJSON.feature:18
16:55:32.391 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:55:33.519 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:55:33.678 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name => " , token()
js failed:
>>>>
01: karate.log('[print]',"Function name => " , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
16:57:41.149 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:42.400 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:42.506 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name => " , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name => " , token()
classpath:test/readJSON.feature:16
16:58:29.705 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:30.911 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:31.033 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "function name =>" , token()
classpath:test/readJSON.feature:16
16:59:38.959 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:59:40.231 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:59:40.350 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:00:39.250 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:40.374 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:40.494 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:03:28.886 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:03:30.157 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:03:30.297 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:04:43.561 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:04:44.822 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:04:44.928 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:07:08.019 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:07:09.342 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:07:09.464 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:08:10.770 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:08:12.066 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:08:12.205 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg3NCwiZXhwIjoxNjc5NTUyNzc0fQ.9TxS4MZEG895uyeAv1NuYPClOS8vj5GFXlCpE-teJRk} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:26:14.841 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:26:16.082 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:16.214 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:27:01.100 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:02.400 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:02.448 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('../token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('../token.json')
classpath:test/readJSON.feature:15
17:30:21.561 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:30:22.806 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:30:22.906 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def requestPayload =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
  "merchantId": "zqFCkcpQYj",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-12090353435434442211",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
  "paymentMode": {
    "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount": "60"
    }]
  },
  "source": "secure-2fr"
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06:   "merchantId": "zqFCkcpQYj",
07:   "amount": "60",
08:   "currency": "INR",
09:   "merchantOrderId": "KOTAK-12090353435434442211",
10:   "callbackUrl": "https://localhost:8000/api/processPayment",
11:   "emiSubvention": false,
12:   "emiTransaction": false,
13:   "paymentMode": {
14:     "bnpl": [{
15:       "paymentChannelId": "kotak_bnpl_cardless_*",
16:       "amount": "60"
17:     }]
18:   },
19:   "source": "secure-2fr"
20: }
21: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
22: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
23: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:39:51.991 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:41:45.164 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:43:37.210 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:46:18.653 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:48:42.488 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:48:43.795 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:48:43.924 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/token.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
17:48:43.980 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* callonce read("token.feature")
js failed:
>>>>
01: read("token.feature")
<<<<
org.graalvm.polyglot.PolyglotException: mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:74)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
17:52:50.618 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:52:51.887 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:52:51.952 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* def token = read(token.feature)
js failed:
>>>>
01: read(token.feature)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
17:55:20.206 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:55:21.494 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:55:21.638 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/token.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
17:55:21.679 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* def jsonwebtoken = call read('token.feature')
js failed:
>>>>
01: read('token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:74)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
12:49:59.867 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:50:01.386 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:50:01.478 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def calljsfile = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:54:24.797 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:54:26.035 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:54:26.138 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def calljsfile = callonce read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:55:26.036 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:55:27.292 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:55:27.406 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:55:27.826 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <token>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:55:28.300 [main] DEBUG com.intuit.karate - response time in milliseconds: 468
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:25:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 69
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:55:28.362 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:56:07.361 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:56:08.858 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:56:09.001 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:56:09.437 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <token>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:56:09.822 [main] DEBUG com.intuit.karate - response time in milliseconds: 380
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:26:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:56:09.870 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:57:50.634 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:57:52.013 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:57:52.165 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:57:52.539 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: {{ jsonwebtoken }}
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:57:52.935 [main] DEBUG com.intuit.karate - response time in milliseconds: 388
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:27:53 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 21
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:57:52.988 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:59:32.848 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:59:34.085 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:59:34.213 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:59:34.582 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <jsonwebtoken>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:59:34.893 [main] DEBUG com.intuit.karate - response time in milliseconds: 309
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:29:35 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 5
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:59:34.914 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
13:00:12.094 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:00:13.388 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:00:13.512 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
13:00:13.568 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = <jsonwebtoken>
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 15; XML document structures must start and end within the same entity.
classpath:test/readJSON.feature:52
13:02:55.829 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:02:57.141 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:02:57.260 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
13:02:57.637 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: #(jsonwebtoken)
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

13:02:58.072 [main] DEBUG com.intuit.karate - response time in milliseconds: 429
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:32:59 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

13:02:58.121 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
14:12:20.800 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:12:22.227 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:12:22.363 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:12:22.425 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = read(token.json)
js failed:
>>>>
01: read(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:12:59.269 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:13:00.510 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:13:00.639 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:13:00.717 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = read(jsonwebtoken)
js failed:
>>>>
01: read(jsonwebtoken)
<<<<
org.graalvm.polyglot.PolyglotException: class com.oracle.truffle.polyglot.PolyglotMap cannot be cast to class java.lang.String (com.oracle.truffle.polyglot.PolyglotMap is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:14:00.894 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:14:02.204 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:14:02.322 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:14:02.363 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And * def header Authorization = read(token.json)
no step-definition method match found for: * def header Authorization = read(token.json)
classpath:test/readJSON.feature:52
14:15:07.238 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:15:08.540 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:15:08.653 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:15:08.658 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def header Authorization = read(jsonwebtoken)
no step-definition method match found for: def header Authorization = read(jsonwebtoken)
classpath:test/readJSON.feature:9
14:16:27.768 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:16:29.014 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:16:29.125 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:16:29.172 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = call read('jwttokenjs') read('token.json')
js failed:
>>>>
01: read('jwttokenjs')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttokenjs (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:17:17.356 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:17:18.627 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:17:18.759 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:17:18.830 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = call read('jwttoken.js') read('token.json')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:28:06.254 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:28:07.473 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:28:07.603 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:28:08.103 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:28:08.481 [main] DEBUG com.intuit.karate - response time in milliseconds: 376
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 08:58:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:28:08.503 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
14:35:34.532 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:35:35.820 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:35:35.938 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:35:35.965 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = call read('token.json')
no step-definition method match found for: def header Authorization = call read('token.json')
classpath:test/readJSON.feature:52
14:48:28.505 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:48:29.711 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:48:29.828 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:48:29.850 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = jsonwebtoken
no step-definition method match found for: def header Authorization = jsonwebtoken
classpath:test/readJSON.feature:52
14:53:18.828 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:20.132 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:20.253 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:53:20.291 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = karate.write(jsonwebtoken)
js failed:
>>>>
01: karate.write(jsonwebtoken)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (write) on com.intuit.karate.core.ScenarioBridge@7e00ed0f failed due to: Arity error - expected: 2 actual: 1
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:54:18.559 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:54:20.031 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:54:20.162 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:54:20.184 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = karate.write(token.json)
no step-definition method match found for: def header Authorization = karate.write(token.json)
classpath:test/readJSON.feature:52
14:55:48.349 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:49.618 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:49.747 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:55:49.784 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = karate.write(token.json)
js failed:
>>>>
01: karate.write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:56:26.999 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:28.205 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:28.328 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:56:28.360 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = call.write(token.json)
js failed:
>>>>
01: call.write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "call" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:56:48.098 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:49.371 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:49.500 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:56:49.539 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = call write(token.json)
js failed:
>>>>
01: write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "write" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
15:09:20.848 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:09:22.430 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:09:22.594 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.jwttoken
js failed:
>>>>
01: response.jwttoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:13:02.962 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:13:04.269 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:13:04.414 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:15:34.807 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:36.131 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:15:36.278 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.jsonwebtoken
js failed:
>>>>
01: response.jsonwebtoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:21:20.662 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:21:21.948 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:21:22.091 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
* def jwttoken = response.jsonwebtoken
js failed:
>>>>
01: response.jsonwebtoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:55
15:28:07.892 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:28:09.184 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:28:09.307 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:28:09.351 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:28:09.742 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:28:10.174 [main] DEBUG com.intuit.karate - response time in milliseconds: 426
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 09:58:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 27
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:28:10.228 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:29:43.445 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:29:44.755 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:29:44.874 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:29:44.912 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:29:44.928 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization karate.write(jsonwebtoken, "jwttoken.txt");
no step-definition method match found for: header Authorization karate.write(jsonwebtoken, "jwttoken.txt");
classpath:test/readJSON.feature:55
15:31:17.996 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:31:19.289 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:31:19.433 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:31:19.472 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:31:19.511 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization = write (jwttoken.txt)
js failed:
>>>>
01: write (jwttoken.txt)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "write" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:55
15:43:15.641 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:43:16.784 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:43:16.899 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:43:16.918 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization =
no step-definition method match found for: header Authorization =
classpath:test/readJSON.feature:55
15:52:50.159 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:52:51.877 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:52:52.059 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:52:52.081 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And def header Authorization = read('token.json')
no step-definition method match found for: def header Authorization = read('token.json')
classpath:test/readJSON.feature:55
15:53:18.337 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input 'd' expecting <EOF>
15:54:14.178 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:54:15.455 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:54:15.599 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:54:16.016 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:54:16.368 [main] DEBUG com.intuit.karate - response time in milliseconds: 346
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:24:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:54:16.422 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:13:51.993 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:13:53.114 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:13:53.216 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
16:13:53.584 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:13:53.897 [main] DEBUG com.intuit.karate - response time in milliseconds: 310
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:43:53 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:13:53.922 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:15:13.708 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON_copy.feature - mismatched input '/' expecting <EOF>
16:16:34.665 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:16:35.926 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:16:36.039 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy.feature:5
* def jsonwebtoken = read('myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy.feature:5
16:18:19.088 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:18:20.319 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:18:20.435 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
16:18:20.749 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:18:21.051 [main] DEBUG com.intuit.karate - response time in milliseconds: 298
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:48:21 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:18:21.076 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:30:53.284 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:30:54.585 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:30:54.708 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMDk1MSwiZXhwIjoxNjgwMDAxODUxfQ.5ao7gkncYmBtoybaOLaxlcrhU9pMgYZM9Qh3k6VHpfU 
16:30:55.089 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMDk1MSwiZXhwIjoxNjgwMDAxODUxfQ.5ao7gkncYmBtoybaOLaxlcrhU9pMgYZM9Qh3k6VHpfU
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:30:55.422 [main] DEBUG com.intuit.karate - response time in milliseconds: 330
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 11:00:55 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:30:55.449 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:31:28.312 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:31:29.604 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:31:29.700 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('../token.json')   //read tone from json file
js failed:
>>>>
01: read('../token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/../token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:32:24.905 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:32:26.041 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:32:26.128 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('/myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('/myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:33:08.404 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:33:09.683 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:33:09.776 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:40:01.846 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:40:03.143 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:40:03.301 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:42:11.674 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:42:12.940 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:42:13.046 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('jwttoken.js');
js failed:
>>>>
01: karate.read('jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:46:40.439 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:46:41.619 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:46:41.724 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('./jwttoken.js');
js failed:
>>>>
01: karate.read('./jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:53:33.630 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:53:34.831 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:53:34.987 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:54:10.260 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:54:11.593 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:54:11.741 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:./jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:./jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:56:21.765 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:56:22.988 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:56:23.080 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('token.feture');
js failed:
>>>>
01: read('token.feture')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/token.feture (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:57:20.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:22.213 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:22.305 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature');
js failed:
>>>>
01: read('/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:58:19.339 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:20.597 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:20.763 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('classpath:token.feature');
js failed:
>>>>
01: read('classpath:token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: token.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:00:11.892 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:13.161 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:13.286 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/test/java/test/jwttoken.js');
js failed:
>>>>
01: read('classpath:src/test/java/test/jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/test/java/test/jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:10:02.061 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:10:03.296 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:10:03.417 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/jwt/jwttoken.js');
js failed:
>>>>
01: read('classpath:src/jwt/jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/jwt/jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:17:11.167 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:17:12.440 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:17:12.584 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/jwt/jwttoken.feature');
js failed:
>>>>
01: read('classpath:src/jwt/jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/jwt/jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:17:55.003 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:17:56.352 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:17:56.498 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:19:51.594 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:19:52.844 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:19:52.929 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:21:10.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:21:12.143 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:21:12.229 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:24:16.859 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:24:18.121 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:24:18.295 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:/jwt/jwttoken.feature');
js failed:
>>>>
01: read('classpath:/jwt/jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /jwt/jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:24:42.668 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:24:43.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:24:43.999 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:jwttoken.feature');
js failed:
>>>>
01: read('classpath:jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:27:06.545 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:07.847 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:07.990 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:jwttoken.feature');
js failed:
>>>>
01: read('classpath:jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:35:23.401 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:35:24.707 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:35:24.821 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
  );
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19:   );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:14:47.938 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:14:49.492 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:14:49.619 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
14:44:06.487 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:44:07.809 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:44:07.995 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
14:54:31.245 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:54:32.540 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:54:32.705 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
14:59:12.733 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:59:14.214 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:59:14.348 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = callonce read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:10:39.717 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:10:41.181 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:10:41.313 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:11:04.311 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:11:05.482 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:11:05.596 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:32:34.121 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:32:36.029 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:32:36.189 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:12:57.012 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:58.403 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:58.513 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:13:33.289 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:13:34.440 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:13:34.538 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:16:39.463 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:16:40.717 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:16:40.824 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:24:01.342 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:24:02.863 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:24:02.986 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:34:44.768 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:34:46.061 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:34:46.129 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def *generateToken* =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
invalid variable name: *generateToken*
classpath:test/readJSON.feature:6
16:40:02.115 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:40:03.287 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:40:03.356 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def *jsonwebtoken* =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
invalid variable name: *jsonwebtoken*
classpath:test/readJSON.feature:6
16:43:38.920 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:43:40.203 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:43:40.368 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:46
And header Authorization = jsonwebtoken.token   //write token form json file
js failed:
>>>>
01: jsonwebtoken.token   //write token form json file
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jsonwebtoken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:46
16:44:21.703 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:44:22.971 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:44:23.526 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

16:44:23.934 [main] DEBUG com.intuit.karate - response time in milliseconds: 392
1 < 200
1 < Server: nginx
1 < Date: Wed, 29 Mar 2023 11:14:23 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:44:23.988 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:58:49.373 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:50.680 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:50.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:27:46.749 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:48.095 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:48.231 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def token =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:30:10.749 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:30:12.228 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:30:12.382 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def gettoken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07: };
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: function generateToken(reqBody, secretKey) {
10:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
11:   return token;
12: }
13: const token = generateToken(reqBody, secretKey);
14: try {
15:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
16: );
17:   // file written successfully
18: } catch (err) {
19:   console.error(err);
20: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:38:17.117 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:38:18.326 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:38:18.833 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

17:38:19.217 [main] DEBUG com.intuit.karate - response time in milliseconds: 381
1 < 200
1 < Server: nginx
1 < Date: Wed, 29 Mar 2023 12:08:19 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

17:38:19.248 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
17:46:29.889 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:46:31.189 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:46:31.269 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def jwt = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
11:24:32.648 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:24:33.907 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:24:33.972 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def jwt = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
11:25:03.811 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:25:04.929 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:25:05.367 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:25:05.708 [main] DEBUG com.intuit.karate - response time in milliseconds: 337
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 05:55:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:25:05.734 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:29:03.128 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:29:04.353 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:29:04.777 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:29:05.117 [main] DEBUG com.intuit.karate - response time in milliseconds: 338
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 05:59:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:29:05.143 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:30:11.590 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:30:12.872 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:30:13.382 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:30:13.712 [main] DEBUG com.intuit.karate - response time in milliseconds: 328
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 06:00:13 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:30:13.738 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:32:42.068 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:32:43.354 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:32:43.451 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def gettoken =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:33:20.213 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:33:21.471 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:33:21.564 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def jsonwebtoken =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:41:55.642 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:41:56.966 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:41:57.092 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsFunction = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
11:45:29.880 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:45:31.069 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:45:31.198 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:js_executor.feature')
js failed:
>>>>
01: read('classpath:js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:46:14.977 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:46:16.281 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:46:16.370 [main] INFO  com.intuit.karate - >> lock acquired, begin callonce: read('js_executor.feature')
11:46:16.433 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:46:16.435 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('js_executor.feature')
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
classpath:test/readJSON.feature:6
11:53:03.709 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:53:04.984 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:53:05.119 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:/src/test/java/test/js_executor.feature')
js failed:
>>>>
01: read('classpath:/src/test/java/test/js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /src/test/java/test/js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:53:52.884 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:53:54.089 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:53:54.281 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:./src/test/java/test/js_executor.feature')
js failed:
>>>>
01: read('classpath:./src/test/java/test/js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./src/test/java/test/js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:54:24.111 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:54:25.354 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:54:25.521 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:js_executor.feature')
js failed:
>>>>
01: read('classpath:js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:56:49.072 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:56:50.408 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:56:50.548 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:56:50.551 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = call read('js_executor.feature')
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
classpath:test/readJSON.feature:6
12:25:42.446 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:25:44.116 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:25:44.285 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:27:04.960 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:27:06.210 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:27:06.322 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:30:02.870 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:30:04.107 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:30:04.220 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:38:56.089 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:38:57.319 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:38:57.426 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:40:15.966 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:40:17.190 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:40:17.291 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: //console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:42:21.346 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tag @debug
12:42:49.954 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:42:50.391 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:13.778 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:44:14.146 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:44.925 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:44:45.338 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:45:27.128 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:45:28.392 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:45:28.518 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
12:45:28.897 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:45:29.266 [main] DEBUG com.intuit.karate - response time in milliseconds: 366
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 07:15:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:45:29.296 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:46:05.317 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:46:06.571 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:46:06.668 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:56:23.219 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:56:24.504 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:56:24.611 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000111",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:58:46.689 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:58:48.014 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:58:48.121 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:00:26.456 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:00:27.737 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:00:27.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log(token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:18 Expected ; but found )
console.log(token))
                  ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:01:13.184 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:01:14.468 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:01:14.571 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log("token"))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:20 Expected ; but found )
console.log("token"))
                    ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:28:11.368 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:28:12.643 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:28:12.759 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: //console.log("Encrypted req: " + token)
11: return token;)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:11:0 Invalid return statement
return token;)
^
Unnamed:11:13 Expected ; but found )
return token;)
             ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:29:13.934 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:29:15.104 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:29:15.217 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000111",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: //console.log("Encrypted req: " + token)
10: return token;)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require('jsonwebtoken')
 ^
Unnamed:10:0 Invalid return statement
return token;)
^
Unnamed:10:13 Expected ; but found )
return token;)
             ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:29:41.653 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:29:42.958 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:29:43.064 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000111",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: //console.log("Encrypted req: " + token)
10: return token)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require('jsonwebtoken')
 ^
Unnamed:10:0 Invalid return statement
return token)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:34:57.570 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:34:58.887 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:34:58.990 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: //const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:18:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:38:36.451 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:38:37.777 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:38:37.882 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05:   channel: "app",
06:   merchantId: "fzAMJrXcr",
07:   amount: "1000",
08:   currency: "INR"
09: }
10: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
11: 
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:15:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:50:01.969 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:50:03.125 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:50:03.211 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: }
18: 
19: console.log(generateToken(reqBody, secretKey));)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:19:47 Expected ; but found )
console.log(generateToken(reqBody, secretKey));)
                                               ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:52:39.583 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:52:40.757 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:52:40.860 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: };
18: 
19: console.log(generateToken(reqBody, secretKey));)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:19:47 Expected ; but found )
console.log(generateToken(reqBody, secretKey));)
                                               ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:57:02.632 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:03.842 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:03.948 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: }
18: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:18:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
15:00:38.377 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:00:40.438 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:00:40.589 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05:   channel: "app",
06:   merchantId: "fzAMJrXcr",
07:   amount: "1000",
08:   currency: "INR"
09: };
10: 
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: 
13: function generateToken(reqBody, secretKey) {
14:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
15:   return token;})
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:15:16 Expected ; but found )
  return token;})
                ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
15:19:41.910 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:19:43.560 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:19:44.208 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

15:19:44.661 [main] DEBUG com.intuit.karate - response time in milliseconds: 449
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 09:49:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:19:44.703 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:51:26.310 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:51:27.518 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:51:28.329 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

15:51:28.824 [main] DEBUG com.intuit.karate - response time in milliseconds: 491
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 10:21:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 83
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:51:28.858 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:58:24.464 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:58:25.837 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:58:25.927 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = call read('twttoken.js')
js failed:
>>>>
01: read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
15:59:41.493 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:59:42.831 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:59:42.912 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:05:03.920 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:05:05.274 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:05:05.362 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:06:04.871 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:06:06.237 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:06:06.398 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:12:58.109 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:59.366 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:59.457 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:15:21.308 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:15:22.753 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:15:22.854 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:20:43.588 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:44.863 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:45.377 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

16:20:45.740 [main] DEBUG com.intuit.karate - response time in milliseconds: 360
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 10:50:45 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:20:45.765 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:20:45.803 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:34
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:34
16:32:44.862 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:32:46.145 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:32:46.239 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jwt = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:34:26.379 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:34:27.655 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:34:27.768 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jwt = karate.call('jwttoken.js')
js failed:
>>>>
01: karate.call('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:50:58.254 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:50:59.392 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:50:59.457 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:20
* def returntoken = call myFun
js failed:
>>>>
01: myFun
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "myFun" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:20
16:53:11.964 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:53:13.111 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:53:13.162 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def myFun
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
no step-definition method match found for: def myFun
classpath:test/readJSON.feature:7
16:55:58.691 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:55:59.915 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:55:59.976 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsonwebtoken
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
no step-definition method match found for: def jsonwebtoken
classpath:test/readJSON.feature:7
16:56:43.550 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:56:44.819 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:56:44.942 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsonwebtoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:57:24.571 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:25.847 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:25.950 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:06:50.957 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:06:52.185 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:06:52.262 [main] ERROR com.intuit.karate - classpath:test/demo.feature:7
Then status 200
java.lang.NullPointerException
classpath:test/demo.feature:7
18:12:54.145 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:12:55.842 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:12:55.914 [main] ERROR com.intuit.karate - classpath:test/demo.feature:7
Then status 200
java.lang.NullPointerException
classpath:test/demo.feature:7
18:15:12.475 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:15:13.672 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:15:13.754 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def returntoken = call generateToken
js failed:
>>>>
01: generateToken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "generateToken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
18:16:27.484 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:16:28.757 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:16:28.825 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def *generateToken* =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
invalid variable name: *generateToken*
classpath:test/readJSON.feature:7
18:17:13.451 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:17:14.694 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:17:14.818 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
18:18:09.261 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:18:10.485 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:18:10.592 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
23:53:01.850 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:53:03.140 [main] INFO  com.intuit.karate - karate.env system property was: null 
23:53:03.224 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
