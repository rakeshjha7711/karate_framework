16:09:49.099 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:09:50.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:09:50.906 [main] INFO  com.intuit.karate - JWTtoken is : null 
16:09:51.017 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:09:53.772 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:10:04.876 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:10:06.851 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:10:06.889 [main] INFO  com.intuit.karate - JWTtoken is : null 
16:10:06.988 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:10:09.339 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:47.526 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:49.628 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:49.699 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:4
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment.feature:4
16:12:52.628 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:24.985 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:26.766 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:17:27.616 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:17:28.197 [main] DEBUG com.intuit.karate - response time in milliseconds: 575
1 < 200
1 < Server: nginx
1 < Date: Fri, 10 Mar 2023 10:47:28 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:17:28.271 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:17:30.219 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:41.563 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:17:43.515 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:17:44.091 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:17:44.481 [main] DEBUG com.intuit.karate - response time in milliseconds: 336
1 < 200
1 < Server: nginx
1 < Date: Fri, 10 Mar 2023 10:47:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:17:44.547 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:17:46.801 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:09.904 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:11.447 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:11.972 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:53:12.556 [main] DEBUG com.intuit.karate - response time in milliseconds: 579
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:23:14 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 22
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:53:12.591 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:53:14.303 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:25.825 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:26.957 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:27.368 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:55:27.691 [main] DEBUG com.intuit.karate - response time in milliseconds: 316
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:25:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:55:27.744 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:55:36.443 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:37.711 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:38.207 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:55:38.592 [main] DEBUG com.intuit.karate - response time in milliseconds: 379
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:25:40 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:55:38.622 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:02:35.050 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:36.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:37.459 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:02:37.783 [main] DEBUG com.intuit.karate - response time in milliseconds: 321
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:32:39 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:02:37.813 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:02:46.622 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:47.923 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:48.426 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:02:48.934 [main] DEBUG com.intuit.karate - response time in milliseconds: 500
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:32:50 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:02:48.999 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:05:02.293 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:03.564 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:04.055 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:05:04.408 [main] DEBUG com.intuit.karate - response time in milliseconds: 351
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:35:06 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:05:04.434 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:05:13.191 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:14.474 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:14.944 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:05:15.297 [main] DEBUG com.intuit.karate - response time in milliseconds: 350
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:35:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:05:15.331 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:22:22.643 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:22:23.795 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:22:24.242 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:22:24.584 [main] DEBUG com.intuit.karate - response time in milliseconds: 338
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:52:26 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:22:24.609 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:22:32.830 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:22:33.954 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:22:34.421 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:22:34.766 [main] DEBUG com.intuit.karate - response time in milliseconds: 342
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:52:36 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:22:34.797 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:25:01.687 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:04.775 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:05.252 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:05.620 [main] DEBUG com.intuit.karate - response time in milliseconds: 365
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:55:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:25:05.653 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:25:15.168 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:16.471 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:16.965 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:17.473 [main] DEBUG com.intuit.karate - response time in milliseconds: 501
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 09:55:17 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:25:17.525 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:30:13.951 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:30:15.207 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:30:15.664 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:30:16.013 [main] DEBUG com.intuit.karate - response time in milliseconds: 346
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 10:00:15 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:30:16.042 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:30:25.562 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:30:26.940 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:30:27.441 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:30:27.774 [main] DEBUG com.intuit.karate - response time in milliseconds: 330
1 < 200
1 < Server: nginx
1 < Date: Sat, 11 Mar 2023 10:00:27 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

15:30:27.799 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
15:58:46.412 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:58:47.797 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:58:47.944 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:58
And header Authorization = call read('cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
js failed:
>>>>
01: read('cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/cd ./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment.feature:58
15:59:35.048 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:59:36.377 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:59:36.534 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:58
And header Authorization = call read('cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
js failed:
>>>>
01: read('cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/cd./Desktop/karate_demo/myproject/src/test/java/test/JWTtoken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment.feature:58
12:20:50.283 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:20:51.747 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:20:52.292 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:20:52.708 [main] DEBUG com.intuit.karate - response time in milliseconds: 414
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 06:50:52 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:20:52.734 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
15:25:04.580 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:25:07.334 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:08.554 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:25:09.527 [main] DEBUG com.intuit.karate - response time in milliseconds: 949
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 09:55:09 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 12
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:25:09.594 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
15:38:14.249 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:38:15.512 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:38:16.005 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:38:16.379 [main] DEBUG com.intuit.karate - response time in milliseconds: 368
1 < 200
1 < Server: nginx
1 < Date: Mon, 13 Mar 2023 10:08:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 27
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:38:16.414 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
16:25:12.007 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment.feature - mismatched input '/' expecting <EOF>
16:01:56.057 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:01:57.359 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:01:57.853 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:01:58.228 [main] DEBUG com.intuit.karate - response time in milliseconds: 371
1 < 200
1 < Server: nginx
1 < Date: Sun, 19 Mar 2023 10:31:58 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 11
1 < X-Kong-Proxy-Latency: 3
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:01:58.272 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:04:31.643 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:04:33.172 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:04:33.717 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:04:34.077 [main] DEBUG com.intuit.karate - response time in milliseconds: 356
1 < 200
1 < Server: nginx
1 < Date: Sun, 19 Mar 2023 10:34:34 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

16:04:34.104 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
16:58:30.118 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:31.655 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:54.585 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:55.962 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:01:19.841 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:01:21.347 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:22.022 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:26:23.534 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:23.582 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def *generateToken* =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
invalid variable name: *generateToken*
classpath:test/js_executor.feature:6
17:27:10.686 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:11.902 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:11.996 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:20:32.144 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:20:34.373 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:20:34.454 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
classpath:test/processPayment.feature:7
11:21:06.552 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:21:07.873 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:21:08.506 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jwttoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:21:08.910 [main] DEBUG com.intuit.karate - response time in milliseconds: 401
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 05:51:08 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:21:08.944 [main] ERROR com.intuit.karate - classpath:test/processPayment.feature:46
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment.feature:46
11:22:18.821 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:22:20.315 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:22:20.890 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:22:21.230 [main] DEBUG com.intuit.karate - response time in milliseconds: 333
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 05:52:21 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 5
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:22:21.269 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:56:41.652 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:56:43.321 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:56:43.868 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:56:44.294 [main] DEBUG com.intuit.karate - response time in milliseconds: 423
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 06:26:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:56:44.323 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:03:41.200 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:03:42.424 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:03:42.862 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:03:43.270 [main] DEBUG com.intuit.karate - response time in milliseconds: 404
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 06:33:43 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:03:43.296 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:04:21.498 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:04:22.772 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:04:22.973 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:05:15.027 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:05:16.167 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:05:16.240 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/home/livquik/Desktop/karate_demo/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:12:36.416 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:12:37.731 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:12:37.860 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:13:13.858 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:13:15.170 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:13:15.349 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:../myproject/token.json')
js failed:
>>>>
01: read('classpath:../myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ../myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:13:51.788 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:13:53.087 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:13:53.268 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
js failed:
>>>>
01: read('classpath:/home/livquik/Desktop/karate_demo/myproject/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /home/livquik/Desktop/karate_demo/myproject/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:28:38.835 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:29:40.678 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:35:35.007 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:38:24.805 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input 'd' expecting <EOF>
12:39:48.188 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:39:49.959 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:39:50.090 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:token.json')
js failed:
>>>>
01: read('classpath:token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:40:26.008 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:40:27.316 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:40:27.466 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:/token.json')
js failed:
>>>>
01: read('classpath:/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
12:43:16.811 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:43:18.234 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:43:18.380 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:43:18.386 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ded token = 'token.json'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: ded token = 'token.json'
classpath:test/processPayment_copy.feature:10
12:44:29.406 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:30.738 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:44:30.845 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:44:30.852 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ded token = 'token.json'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: ded token = 'token.json'
classpath:test/processPayment_copy.feature:10
12:51:10.563 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:51:12.389 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:51:12.447 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:10
* ROOT_DIR = os.path.dirname(os.path.abspath(__file__))
no step-definition method match found for: ROOT_DIR = os.path.dirname(os.path.abspath(__file__))
classpath:test/processPayment_copy.feature:10
12:55:03.036 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:56:28.128 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:57:29.612 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:58:44.660 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
12:59:07.797 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:04:45.497 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:06:34.615 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n\n\n"""\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:09:26.428 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:09:28.110 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:09:28.252 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:11:02.063 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:11:03.428 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:11:03.556 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* def print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def print jwttoken
classpath:test/processPayment_copy.feature:9
13:11:32.198 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:11:33.577 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:11:33.695 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:13:22.466 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:13:23.781 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:13:23.933 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:13:49.851 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:13:51.227 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:13:51.356 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:9
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:9
13:15:06.212 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - extraneous input '\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
13:16:08.739 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:16:10.261 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:16:10.510 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:17:12.161 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:17:13.658 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:17:13.787 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:18:49.139 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:18:50.604 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:18:50.715 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:20:12.990 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:20:14.326 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:20:14.446 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
13:20:47.398 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:20:48.850 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:20:48.932 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('./token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def jwttoken = read('./token.json')
classpath:test/processPayment_copy.feature:7
13:21:29.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:21:31.397 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:21:31.507 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:55:13.459 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:14.742 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:14.846 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:57:31.806 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:33.005 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:33.119 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
14:58:35.297 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:58:36.575 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:58:36.694 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:14:11.816 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:14:13.208 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:14:13.344 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:src/testjava/test/token.json')
js failed:
>>>>
01: read('classpath:src/testjava/test/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/testjava/test/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
15:14:46.831 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:14:47.934 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:14:48.061 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:7
* def jwttoken = read('classpath:./src/testjava/test/token.json')
js failed:
>>>>
01: read('classpath:./src/testjava/test/token.json')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./src/testjava/test/token.json
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/processPayment_copy.feature:7
15:15:07.977 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:09.393 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:15:09.560 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:16:08.487 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:16:09.648 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:16:09.772 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:19:17.934 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:19:19.124 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:19:19.366 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:8
* print jwttoken
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jwttoken
classpath:test/processPayment_copy.feature:8
15:30:46.642 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:33:27.597 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_copy.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:34:10.300 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:34:11.576 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:34:11.620 [main] ERROR com.intuit.karate - classpath:test/processPayment_copy.feature:5
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment_copy.feature:5
15:35:27.429 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:35:28.684 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:35:29.248 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:35:29.633 [main] DEBUG com.intuit.karate - response time in milliseconds: 381
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 10:05:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:35:29.662 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:41:29.844 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\nExamples:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:47:44.060 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '<EOF>' expecting TABLE_ROW
15:49:18.670 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '<EOF>' expecting TABLE_ROW
15:50:20.830 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:50:22.028 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:50:22.073 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/readJSON.feature:5
15:51:00.803 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:51:02.042 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:51:02.191 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:44
And header Authorization = <token>
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 8; XML document structures must start and end within the same entity.
classpath:test/readJSON.feature:44
15:52:27.308 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:52:28.437 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:52:28.871 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: fdgfdg
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:52:29.223 [main] DEBUG com.intuit.karate - response time in milliseconds: 348
1 < 200
1 < Server: nginx
1 < Date: Thu, 23 Mar 2023 10:22:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:52:29.251 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:55:04.761 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - extraneous input '\n\n\n\n  """\n      {\n  "mobileNumber": "+918722000003",\n  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n "channel": "app",\n  "merchantId": "uk@wad7Si",\n  "amount": "60",\n  "currency": "INR",\n  "merchantOrderId": "KOTAK-120903534354311",\n  "callbackUrl": "https://localhost:8000/api/processPayment",\n  "emiSubvention": false,\n  "emiTransaction": false,\n   "paymentMode": {\n        "bnpl": [{\n            "paymentChannelId": "kotak_bnpl_cardless_*",\n            "amount":"60"\n        }]\n    },\n    \n  "source": "secure-2fr"\n\n      }\n\n  """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
16:04:47.094 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:04:48.355 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:04:48.479 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print token
classpath:test/readJSON.feature:16
16:05:19.770 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:05:21.001 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:05:21.118 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* def print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def print token
classpath:test/readJSON.feature:16
16:19:33.493 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:19:34.832 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:19:34.974 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
* print token
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print token
classpath:test/readJSON.feature:16
16:20:00.690 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:01.946 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:01.997 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('classpath:token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('classpath:token.json')
classpath:test/readJSON.feature:15
16:20:39.155 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:40.410 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:40.452 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('token.json')
classpath:test/readJSON.feature:15
16:21:32.160 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:21:33.445 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:21:33.491 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('./token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('./token.json')
classpath:test/readJSON.feature:15
16:44:03.529 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:44:04.790 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:44:04.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:18
* def data = karate.read('classpath:/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/jwttoken.js/jwttoken.js');
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def data = karate.read('classpath:/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/jwttoken.js/jwttoken.js');
classpath:test/readJSON.feature:18
16:55:32.391 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:55:33.519 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:55:33.678 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name => " , token()
js failed:
>>>>
01: karate.log('[print]',"Function name => " , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
16:57:41.149 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:42.400 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:42.506 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name => " , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name => " , token()
classpath:test/readJSON.feature:16
16:58:29.705 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:30.911 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:31.033 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "function name =>" , token()
classpath:test/readJSON.feature:16
16:59:38.959 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:59:40.231 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:59:40.350 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:00:39.250 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:40.374 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:40.494 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:03:28.886 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:03:30.157 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:03:30.297 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:04:43.561 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:04:44.822 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:04:44.928 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:07:08.019 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:07:09.342 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:07:09.464 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:08:10.770 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:08:12.066 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:08:12.205 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
js failed:
>>>>
01: karate.log('[print]',"Function name =>" , token())
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on {token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg3NCwiZXhwIjoxNjc5NTUyNzc0fQ.9TxS4MZEG895uyeAv1NuYPClOS8vj5GFXlCpE-teJRk} failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:16
17:26:14.841 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:26:16.082 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:26:16.214 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:16
Then print "Function name =>" , token()
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print "Function name =>" , token()
classpath:test/readJSON.feature:16
17:27:01.100 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:02.400 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:02.448 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:15
* def token = read('../token.json')
"""
{
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
 "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
   "paymentMode": {
  "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount":"60"
  }]
    },
    
  "source": "secure-2fr"
}
"""
no step-definition method match found for: def token = read('../token.json')
classpath:test/readJSON.feature:15
17:30:21.561 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:30:22.806 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:30:22.906 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def requestPayload =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
  "merchantId": "zqFCkcpQYj",
  "amount": "60",
  "currency": "INR",
  "merchantOrderId": "KOTAK-12090353435434442211",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
  "paymentMode": {
    "bnpl": [{
      "paymentChannelId": "kotak_bnpl_cardless_*",
      "amount": "60"
    }]
  },
  "source": "secure-2fr"
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06:   "merchantId": "zqFCkcpQYj",
07:   "amount": "60",
08:   "currency": "INR",
09:   "merchantOrderId": "KOTAK-12090353435434442211",
10:   "callbackUrl": "https://localhost:8000/api/processPayment",
11:   "emiSubvention": false,
12:   "emiTransaction": false,
13:   "paymentMode": {
14:     "bnpl": [{
15:       "paymentChannelId": "kotak_bnpl_cardless_*",
16:       "amount": "60"
17:     }]
18:   },
19:   "source": "secure-2fr"
20: }
21: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
22: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
23: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:39:51.991 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:41:45.164 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:43:37.210 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:46:18.653 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input '\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:48:42.488 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:48:43.795 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:48:43.924 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/token.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
17:48:43.980 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* callonce read("token.feature")
js failed:
>>>>
01: read("token.feature")
<<<<
org.graalvm.polyglot.PolyglotException: mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:74)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
17:52:50.618 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:52:51.887 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:52:51.952 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* def token = read(token.feature)
js failed:
>>>>
01: read(token.feature)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
17:55:20.206 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:55:21.494 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:55:21.638 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/token.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
17:55:21.679 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:5
* def jsonwebtoken = call read('token.feature')
js failed:
>>>>
01: read('token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:74)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:5
12:49:59.867 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:50:01.386 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:50:01.478 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def calljsfile = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:54:24.797 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:54:26.035 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:54:26.138 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def calljsfile = callonce read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:55:26.036 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:55:27.292 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:55:27.406 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9o"
}
 
12:55:27.826 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <token>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:55:28.300 [main] DEBUG com.intuit.karate - response time in milliseconds: 468
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:25:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 69
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:55:28.362 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:56:07.361 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:56:08.858 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:56:09.001 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:56:09.437 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <token>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:56:09.822 [main] DEBUG com.intuit.karate - response time in milliseconds: 380
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:26:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:56:09.870 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:57:50.634 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:57:52.013 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:57:52.165 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:57:52.539 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: {{ jsonwebtoken }}
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:57:52.935 [main] DEBUG com.intuit.karate - response time in milliseconds: 388
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:27:53 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 21
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:57:52.988 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:59:32.848 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:59:34.085 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:59:34.213 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
12:59:34.582 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: <jsonwebtoken>
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:59:34.893 [main] DEBUG com.intuit.karate - response time in milliseconds: 309
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:29:35 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 5
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:59:34.914 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
13:00:12.094 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:00:13.388 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:00:13.512 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
13:00:13.568 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = <jsonwebtoken>
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 15; XML document structures must start and end within the same entity.
classpath:test/readJSON.feature:52
13:02:55.829 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:02:57.141 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:02:57.260 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
13:02:57.637 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: #(jsonwebtoken)
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

13:02:58.072 [main] DEBUG com.intuit.karate - response time in milliseconds: 429
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 07:32:59 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

13:02:58.121 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
14:12:20.800 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:12:22.227 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:12:22.363 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:12:22.425 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = read(token.json)
js failed:
>>>>
01: read(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:12:59.269 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:13:00.510 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:13:00.639 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:13:00.717 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = read(jsonwebtoken)
js failed:
>>>>
01: read(jsonwebtoken)
<<<<
org.graalvm.polyglot.PolyglotException: class com.oracle.truffle.polyglot.PolyglotMap cannot be cast to class java.lang.String (com.oracle.truffle.polyglot.PolyglotMap is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:14:00.894 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:14:02.204 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:14:02.322 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:14:02.363 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And * def header Authorization = read(token.json)
no step-definition method match found for: * def header Authorization = read(token.json)
classpath:test/readJSON.feature:52
14:15:07.238 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:15:08.540 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:15:08.653 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:15:08.658 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def header Authorization = read(jsonwebtoken)
no step-definition method match found for: def header Authorization = read(jsonwebtoken)
classpath:test/readJSON.feature:9
14:16:27.768 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:16:29.014 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:16:29.125 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:16:29.172 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = call read('jwttokenjs') read('token.json')
js failed:
>>>>
01: read('jwttokenjs')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttokenjs (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:17:17.356 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:17:18.627 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:17:18.759 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:17:18.830 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = call read('jwttoken.js') read('token.json')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:28:06.254 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:28:07.473 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:28:07.603 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:28:08.103 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:28:08.481 [main] DEBUG com.intuit.karate - response time in milliseconds: 376
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 08:58:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:28:08.503 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
14:35:34.532 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:35:35.820 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:35:35.938 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:35:35.965 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = call read('token.json')
no step-definition method match found for: def header Authorization = call read('token.json')
classpath:test/readJSON.feature:52
14:48:28.505 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:48:29.711 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:48:29.828 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:48:29.850 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = jsonwebtoken
no step-definition method match found for: def header Authorization = jsonwebtoken
classpath:test/readJSON.feature:52
14:53:18.828 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:20.132 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:20.253 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:53:20.291 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And header Authorization = karate.write(jsonwebtoken)
js failed:
>>>>
01: karate.write(jsonwebtoken)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (write) on com.intuit.karate.core.ScenarioBridge@7e00ed0f failed due to: Arity error - expected: 2 actual: 1
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:54:18.559 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:54:20.031 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:54:20.162 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:54:20.184 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
And def header Authorization = karate.write(token.json)
no step-definition method match found for: def header Authorization = karate.write(token.json)
classpath:test/readJSON.feature:52
14:55:48.349 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:49.618 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:49.747 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:55:49.784 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = karate.write(token.json)
js failed:
>>>>
01: karate.write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:56:26.999 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:28.205 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:28.328 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:56:28.360 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = call.write(token.json)
js failed:
>>>>
01: call.write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "call" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
14:56:48.098 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:49.371 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:49.500 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
14:56:49.539 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:52
* header Authorization = call write(token.json)
js failed:
>>>>
01: write(token.json)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "write" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:52
15:09:20.848 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:09:22.430 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:09:22.594 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.jwttoken
js failed:
>>>>
01: response.jwttoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:13:02.962 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:13:04.269 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:13:04.414 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:15:34.807 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:36.131 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:15:36.278 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jwttoken = response.jsonwebtoken
js failed:
>>>>
01: response.jsonwebtoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
15:21:20.662 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:21:21.948 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:21:22.091 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
* def jwttoken = response.jsonwebtoken
js failed:
>>>>
01: response.jsonwebtoken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:55
15:28:07.892 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:28:09.184 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:28:09.307 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:28:09.351 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:28:09.742 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jsonwebtoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:28:10.174 [main] DEBUG com.intuit.karate - response time in milliseconds: 426
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 09:58:10 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 27
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:28:10.228 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:29:43.445 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:29:44.755 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:29:44.874 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:29:44.912 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:29:44.928 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization karate.write(jsonwebtoken, "jwttoken.txt");
no step-definition method match found for: header Authorization karate.write(jsonwebtoken, "jwttoken.txt");
classpath:test/readJSON.feature:55
15:31:17.996 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:31:19.289 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:31:19.433 [main] INFO  com.intuit.karate - [print] {
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O"
}
 
15:31:19.472 [main] DEBUG com.intuit.karate - write to file: target/jwttoken.txt
15:31:19.511 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization = write (jwttoken.txt)
js failed:
>>>>
01: write (jwttoken.txt)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "write" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:55
15:43:15.641 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:43:16.784 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:43:16.899 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:43:16.918 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And header Authorization =
no step-definition method match found for: header Authorization =
classpath:test/readJSON.feature:55
15:52:50.159 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:52:51.877 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:52:52.059 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:52:52.081 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:55
And def header Authorization = read('token.json')
no step-definition method match found for: def header Authorization = read('token.json')
classpath:test/readJSON.feature:55
15:53:18.337 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON.feature - mismatched input 'd' expecting <EOF>
15:54:14.178 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:54:15.455 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:54:15.599 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
15:54:16.016 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:54:16.368 [main] DEBUG com.intuit.karate - response time in milliseconds: 346
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:24:16 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:54:16.422 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:13:51.993 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:13:53.114 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:13:53.216 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
16:13:53.584 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:13:53.897 [main] DEBUG com.intuit.karate - response time in milliseconds: 310
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:43:53 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:13:53.922 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:15:13.708 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON_copy.feature - mismatched input '/' expecting <EOF>
16:16:34.665 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:16:35.926 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:16:36.039 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy.feature:5
* def jsonwebtoken = read('myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy.feature:5
16:18:19.088 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:18:20.319 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:18:20.435 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O 
16:18:20.749 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY3OTU1MTg0NCwiZXhwIjoxNjc5NTUyNzQ0fQ.ybGmUbu0021J5FmVDgYnQbiInl8QeYziuC5S6MzGv9O
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:18:21.051 [main] DEBUG com.intuit.karate - response time in milliseconds: 298
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 10:48:21 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:18:21.076 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:30:53.284 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:30:54.585 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:30:54.708 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMDk1MSwiZXhwIjoxNjgwMDAxODUxfQ.5ao7gkncYmBtoybaOLaxlcrhU9pMgYZM9Qh3k6VHpfU 
16:30:55.089 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMDk1MSwiZXhwIjoxNjgwMDAxODUxfQ.5ao7gkncYmBtoybaOLaxlcrhU9pMgYZM9Qh3k6VHpfU
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

16:30:55.422 [main] DEBUG com.intuit.karate - response time in milliseconds: 330
1 < 200
1 < Server: nginx
1 < Date: Tue, 28 Mar 2023 11:00:55 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:30:55.449 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:31:28.312 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:31:29.604 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:31:29.700 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('../token.json')   //read tone from json file
js failed:
>>>>
01: read('../token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/../token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:32:24.905 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:32:26.041 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:32:26.128 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('/myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('/myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:33:08.404 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:33:09.683 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:33:09.776 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def jsonwebtoken = read('myproject/token.json')   //read tone from json file
js failed:
>>>>
01: read('myproject/token.json')   //read tone from json file
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/myproject/token.json (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:54)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
16:40:01.846 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:40:03.143 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:40:03.301 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:42:11.674 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:42:12.940 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:42:13.046 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('jwttoken.js');
js failed:
>>>>
01: karate.read('jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:46:40.439 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:46:41.619 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:46:41.724 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('./jwttoken.js');
js failed:
>>>>
01: karate.read('./jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:53:33.630 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:53:34.831 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:53:34.987 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:54:10.260 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:54:11.593 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:54:11.741 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = karate.read('classpath:./jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:./jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:56:21.765 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:56:22.988 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:56:23.080 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('token.feture');
js failed:
>>>>
01: read('token.feture')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/token.feture (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:57:20.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:22.213 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:22.305 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature');
js failed:
>>>>
01: read('/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/home/livquik/Desktop/karate_demo/myproject/src/test/java/test/token.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
16:58:19.339 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:20.597 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:20.763 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = call read('classpath:token.feature');
js failed:
>>>>
01: read('classpath:token.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: token.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:00:11.892 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:00:13.161 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:00:13.286 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/test/java/test/jwttoken.js');
js failed:
>>>>
01: read('classpath:src/test/java/test/jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/test/java/test/jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:10:02.061 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:10:03.296 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:10:03.417 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/jwt/jwttoken.js');
js failed:
>>>>
01: read('classpath:src/jwt/jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/jwt/jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:17:11.167 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:17:12.440 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:17:12.584 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('classpath:src/jwt/jwttoken.feature');
js failed:
>>>>
01: read('classpath:src/jwt/jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: not found: src/jwt/jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:17:55.003 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:17:56.352 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:17:56.498 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:19:51.594 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:19:52.844 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:19:52.929 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:21:10.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:21:12.143 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:21:12.229 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def data = read('jwttoken.feature');
js failed:
>>>>
01: read('jwttoken.feature');
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/jwttoken.feature (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.FeatureParser.parse(FeatureParser.java:70)
- com.intuit.karate.core.Feature.read(Feature.java:63)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:65)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:24:16.859 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:24:18.121 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:24:18.295 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:/jwt/jwttoken.feature');
js failed:
>>>>
01: read('classpath:/jwt/jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /jwt/jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:24:42.668 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:24:43.879 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:24:43.999 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:jwttoken.feature');
js failed:
>>>>
01: read('classpath:jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:27:06.545 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:07.847 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:07.990 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:jwttoken.feature');
js failed:
>>>>
01: read('classpath:jwttoken.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
17:35:23.401 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:35:24.707 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:35:24.821 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
  );
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19:   );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:14:47.938 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:14:49.492 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:14:49.619 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:8
* def data = karate.read('classpath:jwttoken.js');
js failed:
>>>>
01: karate.read('classpath:jwttoken.js');
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:8
14:44:06.487 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:44:07.809 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:44:07.995 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
14:54:31.245 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:54:32.540 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:54:32.705 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
14:59:12.733 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:59:14.214 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:59:14.348 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def functions = callonce read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:10:39.717 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:10:41.181 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:10:41.313 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:11:04.311 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:11:05.482 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:11:05.596 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
15:32:34.121 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:32:36.029 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:32:36.189 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:12:57.012 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:58.403 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:58.513 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:13:33.289 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:13:34.440 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:13:34.538 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:16:39.463 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:16:40.717 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:16:40.824 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:24:01.342 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:24:02.863 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:24:02.986 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:9
* def token = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:9
16:34:44.768 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:34:46.061 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:34:46.129 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def *generateToken* =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
invalid variable name: *generateToken*
classpath:test/readJSON.feature:6
16:40:02.115 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:40:03.287 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:40:03.356 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def *jsonwebtoken* =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
invalid variable name: *jsonwebtoken*
classpath:test/readJSON.feature:6
16:43:38.920 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:43:40.203 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:43:40.368 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:46
And header Authorization = jsonwebtoken.token   //write token form json file
js failed:
>>>>
01: jsonwebtoken.token   //write token form json file
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jsonwebtoken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:46
16:44:21.703 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:44:22.971 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:44:23.526 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

16:44:23.934 [main] DEBUG com.intuit.karate - response time in milliseconds: 392
1 < 200
1 < Server: nginx
1 < Date: Wed, 29 Mar 2023 11:14:23 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:44:23.988 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:58:49.373 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:58:50.680 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:58:50.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:27:46.749 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:27:48.095 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:27:48.231 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def token =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:30:10.749 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:30:12.228 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:30:12.382 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def gettoken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07: };
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: function generateToken(reqBody, secretKey) {
10:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
11:   return token;
12: }
13: const token = generateToken(reqBody, secretKey);
14: try {
15:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
16: );
17:   // file written successfully
18: } catch (err) {
19:   console.error(err);
20: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:38:17.117 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:38:18.326 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:38:18.833 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

17:38:19.217 [main] DEBUG com.intuit.karate - response time in milliseconds: 381
1 < 200
1 < Server: nginx
1 < Date: Wed, 29 Mar 2023 12:08:19 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

17:38:19.248 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
17:46:29.889 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:46:31.189 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:46:31.269 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def jwt = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
11:24:32.648 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:24:33.907 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:24:33.972 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def jwt = response.token
js failed:
>>>>
01: response.token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "response" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
11:25:03.811 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:25:04.929 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:25:05.367 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:25:05.708 [main] DEBUG com.intuit.karate - response time in milliseconds: 337
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 05:55:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:25:05.734 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:29:03.128 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:29:04.353 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:29:04.777 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:29:05.117 [main] DEBUG com.intuit.karate - response time in milliseconds: 338
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 05:59:05 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:29:05.143 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:30:11.590 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:30:12.872 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:30:13.382 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

11:30:13.712 [main] DEBUG com.intuit.karate - response time in milliseconds: 328
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 06:00:13 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:30:13.738 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:32:42.068 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:32:43.354 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:32:43.451 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def gettoken =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:33:20.213 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:33:21.471 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:33:21.564 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def jsonwebtoken =
"""
const jwt = require('jsonwebtoken')
let reqBody = {
  "mobileNumber": "+918722000003",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
}
const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
console.log("Encrypted req: "+token)
"""
js failed:
>>>>
01: const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000003",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: console.log("Encrypted req: "+token)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:41:55.642 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:41:56.966 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:41:57.092 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsFunction = call read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
11:45:29.880 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:45:31.069 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:45:31.198 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:js_executor.feature')
js failed:
>>>>
01: read('classpath:js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:46:14.977 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:46:16.281 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:46:16.370 [main] INFO  com.intuit.karate - >> lock acquired, begin callonce: read('js_executor.feature')
11:46:16.433 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:46:16.435 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('js_executor.feature')
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
classpath:test/readJSON.feature:6
11:53:03.709 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:53:04.984 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:53:05.119 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:/src/test/java/test/js_executor.feature')
js failed:
>>>>
01: read('classpath:/src/test/java/test/js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: /src/test/java/test/js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:53:52.884 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:53:54.089 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:53:54.281 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:./src/test/java/test/js_executor.feature')
js failed:
>>>>
01: read('classpath:./src/test/java/test/js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: ./src/test/java/test/js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:54:24.111 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:54:25.354 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:54:25.521 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = callonce read('classpath:js_executor.feature')
js failed:
>>>>
01: read('classpath:js_executor.feature')
<<<<
org.graalvm.polyglot.PolyglotException: not found: js_executor.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
11:56:49.072 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:56:50.408 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:56:50.548 [main] ERROR com.intuit.karate - classpath:test/js_executor.feature:6
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const fs = require('fs');
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
  channel: "app",
  merchantId: "fzAMJrXcr",
  amount: "1000",
  currency: "INR"
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
const token = generateToken(reqBody, secretKey);
try {
  fs.writeFileSync('token.json', JSON.stringify({ token: token })
);
  // file written successfully
} catch (err) {
  console.error(err);
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
11:56:50.551 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = call read('js_executor.feature')
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6
classpath:test/readJSON.feature:6
12:25:42.446 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:25:44.116 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:25:44.285 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('classpath:jwttoken.js')
js failed:
>>>>
01: read('classpath:jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: jwttoken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:27:04.960 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:27:06.210 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:27:06.322 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: }
19: 
20: const token = generateToken(reqBody, secretKey);
21: try {
22:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
23: );
24:   // file written successfully
25: } catch (err) {
26:   console.error(err);
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:30:02.870 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:30:04.107 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:30:04.220 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:38:56.089 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:38:57.319 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:38:57.426 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:40:15.966 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:40:17.190 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:40:17.291 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: //console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:42:21.346 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tag @debug
12:42:49.954 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:42:50.391 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:13.778 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:44:14.146 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:44:44.925 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --tags @debug
12:44:45.338 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:45:27.128 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:45:28.392 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:45:28.518 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
12:45:28.897 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:45:29.266 [main] DEBUG com.intuit.karate - response time in milliseconds: 366
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 07:15:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:45:29.296 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:46:05.317 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:46:06.571 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:46:06.668 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000003",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:56:23.219 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:56:24.504 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:56:24.611 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: 
04: let reqBody = {
05:   "mobileNumber": "+918722000111",
06:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
07:   "channel": "app",
08:   
09: }
10: 
11: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
12: 
13: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
14: 
15: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:15:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
12:58:46.689 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:58:48.014 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:58:48.121 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log("Encrypted req: " + token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:38 Expected ; but found )
console.log("Encrypted req: " + token))
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:00:26.456 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:00:27.737 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:00:27.842 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log(token))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:18 Expected ; but found )
console.log(token))
                  ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
13:01:13.184 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:01:14.468 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:01:14.571 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: console.log("token"))
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:10:20 Expected ; but found )
console.log("token"))
                    ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:28:11.368 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:28:12.643 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:28:12.759 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04:   "mobileNumber": "+918722000111",
05:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
06:   "channel": "app",
07: }
08: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
09: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
10: //console.log("Encrypted req: " + token)
11: return token;)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:11:0 Invalid return statement
return token;)
^
Unnamed:11:13 Expected ; but found )
return token;)
             ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:29:13.934 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:29:15.104 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:29:15.217 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000111",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: //console.log("Encrypted req: " + token)
10: return token;)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require('jsonwebtoken')
 ^
Unnamed:10:0 Invalid return statement
return token;)
^
Unnamed:10:13 Expected ; but found )
return token;)
             ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:29:41.653 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:29:42.958 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:29:43.064 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require('jsonwebtoken')
02: let reqBody = {
03:   "mobileNumber": "+918722000111",
04:   "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
05:   "channel": "app",
06: }
07: const secret = "sk_live_BsIW6BAr81acNpKvPnKzQSfsB7zHRltHFsq6b1pq"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: //console.log("Encrypted req: " + token)
10: return token)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require('jsonwebtoken')
 ^
Unnamed:10:0 Invalid return statement
return token)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:34:57.570 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:34:58.887 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:34:58.990 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: //const fs = require('fs');
03: 
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07:   channel: "app",
08:   merchantId: "fzAMJrXcr",
09:   amount: "1000",
10:   currency: "INR"
11: };
12: 
13: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
14: 
15: function generateToken(reqBody, secretKey) {
16:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
17:   return token;
18: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:18:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:38:36.451 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:38:37.777 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:38:37.882 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05:   channel: "app",
06:   merchantId: "fzAMJrXcr",
07:   amount: "1000",
08:   currency: "INR"
09: }
10: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
11: 
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:15:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:50:01.969 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:50:03.125 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:50:03.211 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: }
18: 
19: console.log(generateToken(reqBody, secretKey));)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:19:47 Expected ; but found )
console.log(generateToken(reqBody, secretKey));)
                                               ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:52:39.583 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:52:40.757 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:52:40.860 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: };
18: 
19: console.log(generateToken(reqBody, secretKey));)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:19:47 Expected ; but found )
console.log(generateToken(reqBody, secretKey));)
                                               ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
14:57:02.632 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:03.842 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:03.948 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: 
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: 
12: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
13: 
14: function generateToken(reqBody, secretKey) {
15:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
16:   return token;
17: }
18: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:18:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
15:00:38.377 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:00:40.438 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:00:40.589 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:6
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05:   channel: "app",
06:   merchantId: "fzAMJrXcr",
07:   amount: "1000",
08:   currency: "INR"
09: };
10: 
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: 
13: function generateToken(reqBody, secretKey) {
14:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
15:   return token;})
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require("jsonwebtoken");
 ^
Unnamed:15:16 Expected ; but found )
  return token;})
                ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:6
15:19:41.910 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:19:43.560 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:19:44.208 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

15:19:44.661 [main] DEBUG com.intuit.karate - response time in milliseconds: 449
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 09:49:44 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:19:44.703 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:51:26.310 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:51:27.518 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:51:28.329 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

15:51:28.824 [main] DEBUG com.intuit.karate - response time in milliseconds: 491
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 10:21:29 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 83
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:51:28.858 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
15:58:24.464 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:58:25.837 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:58:25.927 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = call read('twttoken.js')
js failed:
>>>>
01: read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
15:59:41.493 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:59:42.831 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:59:42.912 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:05:03.920 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:05:05.274 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:05:05.362 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:06:04.871 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:06:06.237 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:06:06.398 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.read('twttoken.js')
js failed:
>>>>
01: karate.read('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:12:58.109 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:59.366 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:59.457 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:15:21.308 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:15:22.753 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:15:22.854 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:20:43.588 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:44.863 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:45.377 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jhdjsfvjhdvfdfdsf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 98
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app"}

16:20:45.740 [main] DEBUG com.intuit.karate - response time in milliseconds: 360
1 < 200
1 < Server: nginx
1 < Date: Thu, 30 Mar 2023 10:50:45 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:20:45.765 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:20:45.803 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:34
* def fun = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:34
16:32:44.862 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:32:46.145 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:32:46.239 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jwt = karate.call('twttoken.js')
js failed:
>>>>
01: karate.call('twttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_demo/myproject/target/test-classes/test/twttoken.js (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:34:26.379 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:34:27.655 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:34:27.768 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jwt = karate.call('jwttoken.js')
js failed:
>>>>
01: karate.call('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:50:58.254 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:50:59.392 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:50:59.457 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:20
* def returntoken = call myFun
js failed:
>>>>
01: myFun
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "myFun" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:20
16:53:11.964 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:53:13.111 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:53:13.162 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def myFun
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
no step-definition method match found for: def myFun
classpath:test/readJSON.feature:7
16:55:58.691 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:55:59.915 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:55:59.976 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsonwebtoken
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
no step-definition method match found for: def jsonwebtoken
classpath:test/readJSON.feature:7
16:56:43.550 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:56:44.819 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:56:44.942 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def jsonwebtoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:57:24.571 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:57:25.847 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:57:25.950 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def generateToken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:06:50.957 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:06:52.185 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:06:52.262 [main] ERROR com.intuit.karate - classpath:test/demo.feature:7
Then status 200
java.lang.NullPointerException
classpath:test/demo.feature:7
18:12:54.145 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:12:55.842 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:12:55.914 [main] ERROR com.intuit.karate - classpath:test/demo.feature:7
Then status 200
java.lang.NullPointerException
classpath:test/demo.feature:7
18:15:12.475 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:15:13.672 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:15:13.754 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:19
* def returntoken = call generateToken
js failed:
>>>>
01: generateToken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "generateToken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:19
18:16:27.484 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:16:28.757 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:16:28.825 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def *generateToken* =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
invalid variable name: *generateToken*
classpath:test/readJSON.feature:7
18:17:13.451 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:17:14.694 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:17:14.818 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
18:18:09.261 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:18:10.485 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:18:10.592 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
23:53:01.850 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
23:53:03.140 [main] INFO  com.intuit.karate - karate.env system property was: null 
23:53:03.224 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
01:10:26.134 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:10:27.400 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:10:27.514 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
01:11:00.490 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:11:01.997 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:11:02.099 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
15:32:28.983 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:32:30.476 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:32:30.580 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
10:30:58.107 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:30:59.710 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:30:59.814 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
10:33:39.068 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:33:40.340 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:33:40.468 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def myFun = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
10:46:59.568 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:47:01.017 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:47:01.137 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def myFun = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
10:47:41.977 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
10:47:43.142 [main] INFO  com.intuit.karate - karate.env system property was: null 
10:47:43.232 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
12:16:05.106 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:16:07.984 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:16:08.236 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
12:45:55.905 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:45:57.962 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:45:58.122 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:32
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON copy.feature:32
12:46:29.868 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:46:31.394 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:46:32.013 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 400
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:46:32.590 [main] DEBUG com.intuit.karate - response time in milliseconds: 569
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 07:16:32 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 12
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

12:46:32.646 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:44
And match $.result.message == 'Invalid credentials.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Request expired.'
  'Invalid credentials.'

classpath:test/readJSON copy.feature:44
12:51:09.545 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:51:11.810 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:51:11.987 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:5
* def myFun1 = function { return "hell0"};
js failed:
>>>>
01: function { return "hell0"};
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:9 Expected ( but found {
function { return "hell0"};
         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON copy.feature:5
12:53:27.311 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:53:28.878 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:53:28.992 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:5
* def myFun1 = function(){ return 'hell0'};
js failed:
>>>>
01: (function(){ return 'hell0'};)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:28 Expected ) but found ;
(function(){ return 'hell0'};)
                            ^
Unnamed:1:29 Expected ; but found )
(function(){ return 'hell0'};)
                             ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON copy.feature:5
12:54:00.504 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:54:01.958 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:54:02.050 [main] INFO  com.intuit.karate - [print] myData--- hell0 
12:54:02.570 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 400
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

12:54:03.074 [main] DEBUG com.intuit.karate - response time in milliseconds: 484
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 07:24:02 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

12:54:03.171 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
12:58:13.331 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:58:14.955 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:58:15.275 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:38
* def myData = call myFun1
ReferenceError: "arg" is not defined
classpath:test/readJSON copy.feature:38
12:58:43.800 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:58:45.704 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:58:45.906 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:38
* def myData = call myFun1
TypeError: Cannot read property "lenght" from undefined
classpath:test/readJSON copy.feature:38
13:00:25.147 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:00:26.657 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:00:26.837 [main] ERROR com.intuit.karate - classpath:test/readJSON copy.feature:38
* def myData = call myFun1(requestPayload)
not a callable feature or js function: [type: NULL, value: null]
classpath:test/readJSON copy.feature:38
13:03:16.593 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:03:17.914 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:03:18.070 [main] INFO  com.intuit.karate - [print] myData--- null 
13:03:18.482 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 400
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

13:03:18.970 [main] DEBUG com.intuit.karate - response time in milliseconds: 477
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 07:33:18 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

13:03:19.005 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:19:42.708 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:19:44.137 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:19:45.304 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 114
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":""}

14:19:45.687 [main] DEBUG com.intuit.karate - response time in milliseconds: 375
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 08:49:46 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:19:45.721 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:47:45.317 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:47:46.797 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:47:47.350 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4NzIyMDAwMDAzIiwiZGV2aWNlSWQiOiI5RjBENzE2Mi1GOTBFLTQxQjctODM1Ny04ODg5MUMzM0YwRUQiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6InVrQHdhZDdTaSIsImFtb3VudCI6IjYwIiwiY3VycmVuY3kiOiJJTlIiLCJtZXJjaGFudE9yZGVySWQiOiJLT1RBSy0xMjA5MDM1MzQzNTQzMTEiLCJjYWxsYmFja1VybCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2Nlc3NQYXltZW50IiwiZW1pU3VidmVudGlvbiI6ZmFsc2UsImVtaVRyYW5zYWN0aW9uIjpmYWxzZSwicGF5bWVudE1vZGUiOnsiYm5wbCI6W3sicGF5bWVudENoYW5uZWxJZCI6ImtvdGFrX2JucGxfY2FyZGxlc3NfKiIsImFtb3VudCI6IjYwIn1dfSwic291cmNlIjoic2VjdXJlLTJmciIsImlhdCI6MTY3NjU0NjI0MCwiZXhwIjoxNjc2NTQ3MTQwfQ.YJVpqqoXhNK6qvn5RQbJE-GX02Zve7vcc9FUKqc0_W0
1 > Content-Type: application/json; charset=UTF-8
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:47:47.716 [main] DEBUG com.intuit.karate - response time in milliseconds: 364
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:17:47 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Request expired."}}

14:47:47.744 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Request expired."
  }
}
 
14:50:03.790 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:50:05.176 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:50:05.738 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: 
1 > Content-Type: application/json; charset=UTF-8
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:50:06.203 [main] DEBUG com.intuit.karate - response time in milliseconds: 461
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:20:06 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:50:06.226 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy1.feature:29
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy1.feature:29
14:50:55.480 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:50:56.738 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:50:57.242 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: 
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:50:57.532 [main] DEBUG com.intuit.karate - response time in milliseconds: 288
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:20:57 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 4
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:50:57.554 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy1.feature:29
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy1.feature:29
14:55:33.775 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:55:35.339 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:55:35.487 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:4
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy2.feature:4
14:56:43.257 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:44.858 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:44.972 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:4
* def functions = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy2.feature:4
15:05:07.916 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:09.475 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:09.575 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:5
* def getDate =
"""
function(){
}
  const jwt = require("jsonwebtoken");
  const reqBody = {
   mobileNumber: "+918369221597",
   deviceId: "123456",
   };
  const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
  function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
}
"""
js failed:
>>>>
01: (function(){
02: }
03:   const jwt = require("jsonwebtoken");
04:   const reqBody = {
05:    mobileNumber: "+918369221597",
06:    deviceId: "123456",
07:    };
08:   const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09:   function generateToken(reqBody, secretKey) {
10:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
11:   return token;
12: }
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:3:2 Expected ) but found const
  const jwt = require("jsonwebtoken");
  ^
Unnamed:13:0 Expected eof but found }
})
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy2.feature:5
15:06:06.096 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:06:07.377 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:06:07.463 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:23
* def jwttoken = getDate()
js failed:
>>>>
01: getDate()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:anonymous(Unnamed:3)

classpath:test/readJSON_copy2.feature:23
15:07:21.141 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:07:22.298 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:07:22.404 [main] INFO  com.intuit.karate - [print] 2023/04/04 
15:07:22.914 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: token
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

15:07:23.285 [main] DEBUG com.intuit.karate - response time in milliseconds: 365
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:37:23 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:07:23.317 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:40
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy2.feature:40
15:09:31.066 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:09:32.217 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:09:32.334 [main] INFO  com.intuit.karate - [print] 2023/04/04 
15:09:32.752 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: temp
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

15:09:33.095 [main] DEBUG com.intuit.karate - response time in milliseconds: 339
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:39:33 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:09:33.119 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:40
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy2.feature:40
15:11:38.987 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:11:40.272 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:11:40.374 [main] INFO  com.intuit.karate - [print] 2023/04/04 
15:11:40.820 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: temp
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

15:11:41.171 [main] DEBUG com.intuit.karate - response time in milliseconds: 348
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:41:41 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:11:41.202 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:40
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy2.feature:40
15:17:19.861 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:17:21.124 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:17:21.230 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:6
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09:   return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy2.feature:6
15:21:24.024 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:21:25.364 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:21:25.457 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:6
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
  mobileNumber: "+918369221597",
  deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
  const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
  return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03:   mobileNumber: "+918369221597",
04:   deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09:   return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy2.feature:6
15:23:00.571 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:23:01.854 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:23:01.963 [main] INFO  com.intuit.karate - [print] 2023/04/04 
15:23:02.396 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: 2023/04/04
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

15:23:02.736 [main] DEBUG com.intuit.karate - response time in milliseconds: 337
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 09:53:02 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:23:02.761 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy2.feature:40
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy2.feature:40
16:04:33.153 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:04:34.569 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:04:34.655 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:12:53.373 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:12:54.950 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:12:55.054 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:18:59.256 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:19:00.662 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:19:00.750 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:20:31.580 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:20:32.733 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:20:32.812 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:23:26.961 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:23:28.068 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:23:28.163 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:30:03.175 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:30:04.589 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:30:04.684 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:30:51.267 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:30:52.491 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:30:52.584 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:33:38.301 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:33:39.486 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:33:39.582 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:39:04.130 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:39:05.630 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:39:05.733 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
16:40:33.523 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:40:35.307 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:40:35.403 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken").expect
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken").expect
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
00:42:42.429 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:42:44.384 [main] INFO  com.intuit.karate - karate.env system property was: null 
00:42:44.533 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken").expect
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken").expect
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
00:43:06.900 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:43:08.240 [main] INFO  com.intuit.karate - karate.env system property was: null 
00:43:08.323 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
00:59:58.358 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:59:59.777 [main] INFO  com.intuit.karate - karate.env system property was: null 
00:59:59.885 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
01:03:47.080 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:03:48.617 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:03:48.722 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
01:17:46.818 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:17:48.334 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:17:48.502 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on null failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:19
01:25:06.883 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:25:08.458 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:25:08.675 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:34
And header Authorization = jwttoken //write token form json file
js failed:
>>>>
01: jwttoken //write token form json file
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jwttoken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:34
01:26:04.526 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:26:05.794 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:26:06.003 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:34
And header Authorization = ''hgfhdsgvf' //write token form json file
js failed:
>>>>
01: ''hgfhdsgvf' //write token form json file
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:41 Missing close quote
''hgfhdsgvf' //write token form json file
                                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.header(ScenarioEngine.java:407)

classpath:test/readJSON_copy3.feature:34
01:26:34.187 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:26:35.427 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:26:36.109 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: hgfhdsgvf
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

01:26:36.487 [main] DEBUG com.intuit.karate - response time in milliseconds: 370
1 < 200
1 < Server: nginx
1 < Date: Tue, 04 Apr 2023 19:56:36 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 28
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

01:26:36.516 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:42
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy3.feature:42
01:27:38.694 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:27:39.962 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:27:40.125 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on null failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:19
01:32:45.900 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:32:47.242 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:32:47.371 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def myFun = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
01:33:44.355 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:33:45.654 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:33:45.744 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def myFun = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: const jwt = require("jsonwebtoken");
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06: };
07: 
08: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09: 
10: function generateToken(reqBody, secretKey) {
11:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
12:   return token;
13: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:13:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
01:38:48.464 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:38:50.424 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:38:50.635 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on null failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:19
01:40:06.435 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:40:07.850 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:40:07.933 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:8
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: execute on null failed due to: Message not supported.
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:8
01:43:13.353 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:43:14.646 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:43:14.735 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
import * as jwt from 'jsonwebtoken';
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: import * as jwt from 'jsonwebtoken';
02: const jwt = require("jsonwebtoken")
03: const reqBody = {
04: mobileNumber: "+918369221597",
05: deviceId: "123456",
06: };
07: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
08: function generateToken(reqBody, secretKey) {
09: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
10: return token;
11: }
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:0 Expected an operand but found import
import * as jwt from 'jsonwebtoken';
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy3.feature:5
01:45:00.053 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:45:01.319 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:45:01.419 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
import * as jwt from 'jsonwebtoken';
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: import * as jwt from 'jsonwebtoken';
02: const jwt = require("jsonwebtoken")
03: const reqBody = {
04: mobileNumber: "+918369221597",
05: deviceId: "123456",
06: };
07: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
08: function generateToken(reqBody, secretKey) {
09: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
10: return token;
11: }
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:0 Expected an operand but found import
import * as jwt from 'jsonwebtoken';
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy3.feature:5
01:47:26.863 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:47:28.079 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
01:47:28.080 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
01:47:28.081 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:20
Then print jwttoken
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
01:47:28.081 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:22
* def requestPayload =
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
01:47:28.081 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:31
Given url baseurl+'/api/v1/bnpl/processPayment'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
01:47:28.082 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:32
And request requestPayload
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
01:47:28.082 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And header Content-Type = 'application/json'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
01:47:28.082 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:35
And header Authorization = jwttoken //write token form json file
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
01:47:28.083 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:36
And header TENANT = 'KOTAK_BNPL'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
01:47:28.083 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:37
And header public-key = 'Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
01:47:28.084 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:38
And header User-Agent = 'PostmanRuntime/7.31.1'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
01:47:28.084 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:39
When method POST
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
01:47:28.085 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:40
Then status 200
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
01:47:28.085 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:41
And match $.result.status == 'failed'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
01:47:28.085 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:42
And match $.result.statusCode == 'PAY_1002'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
01:47:28.086 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:43
And match $.result.message == 'Request expired.'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
01:47:28.086 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:44
* print response
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> ReferenceError: "karate" is not defined
js failed:
>>>>
01: function fn() {
02:   if (!env) {
03:     env = 'staging';
04:   }
05:   var config = {  
06:     env: env,
07:     baseurl: 'https://apitest.livquik.com'
08:     
09:   }
10:   //'karate.env' - Get system property
11:   var env = karate.env;
12:   karate.log('karate.env system property was:', env);
13:   if (env == 'prod') {
14:     config.baseUrl = '';
15:   } else if (env == 'staging') {
16:     config.baseUrl = '';
17:   }
18:   karate.configure('connectTimeout', 5000);
19:   karate.configure('readTimeout', 5000);
20:   return config;
21:   const karate = require('@karatelabs/karate');
22:   karate.config.dir = '/users/myname/some/dir';
23:   karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
24:   karate.exec("-T=5");
25: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "karate" is not defined
- <js>.fn(Unnamed:11)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
classpath:test/readJSON_copy3.feature:44
01:50:23.924 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:50:25.101 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
01:50:25.102 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
01:50:25.103 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:20
Then print jwttoken
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
01:50:25.104 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:22
* def requestPayload =
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
01:50:25.105 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:31
Given url baseurl+'/api/v1/bnpl/processPayment'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
01:50:25.105 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:32
And request requestPayload
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
01:50:25.106 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And header Content-Type = 'application/json'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
01:50:25.107 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:35
And header Authorization = jwttoken //write token form json file
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
01:50:25.108 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:36
And header TENANT = 'KOTAK_BNPL'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
01:50:25.109 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:37
And header public-key = 'Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
01:50:25.110 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:38
And header User-Agent = 'PostmanRuntime/7.31.1'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
01:50:25.110 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:39
When method POST
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
01:50:25.111 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:40
Then status 200
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
01:50:25.112 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:41
And match $.result.status == 'failed'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
01:50:25.113 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:42
And match $.result.statusCode == 'PAY_1002'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
01:50:25.114 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:43
And match $.result.message == 'Request expired.'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
01:50:25.115 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:44
* print response
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (const karate = require('@karatelabs/karate');
02: karate.config.dir = '/users/myname/some/dir';
03: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
04: karate.exec("-T=5");
05: function fn() {
06:   if (!env) {
07:     env = 'staging';
08:   }
09:   var config = {  
10:     env: env,
11:     baseurl: 'https://apitest.livquik.com',
12:     
13:     
14:   }
15:   //'karate.env' - Get system property
16:   var env = karate.env;
17:   karate.log('karate.env system property was:', env);
18:   if (env == 'prod') {
19:     config.baseUrl = '';
20:   } else if (env == 'staging') {
21:     config.baseUrl = '';
22:   }
23:   karate.configure('connectTimeout', 5000);
24:   karate.configure('readTimeout', 5000);
25:   return config;
26:   
27: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const karate = require('@karatelabs/karate');
 ^
Unnamed:27:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
classpath:test/readJSON_copy3.feature:44
01:51:23.539 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:51:25.445 [main] INFO  com.intuit.karate - karate.env system property was: null 
01:51:25.550 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
01:52:04.231 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
01:52:05.326 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
01:52:05.327 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:19
* def jwttoken = token()
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
01:52:05.328 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:20
Then print jwttoken
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
01:52:05.329 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:22
* def requestPayload =
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
01:52:05.330 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:31
Given url baseurl+'/api/v1/bnpl/processPayment'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
01:52:05.331 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:32
And request requestPayload
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
01:52:05.332 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And header Content-Type = 'application/json'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
01:52:05.334 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:35
And header Authorization = jwttoken //write token form json file
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
01:52:05.335 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:36
And header TENANT = 'KOTAK_BNPL'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
01:52:05.336 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:37
And header public-key = 'Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
01:52:05.338 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:38
And header User-Agent = 'PostmanRuntime/7.31.1'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
01:52:05.339 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:39
When method POST
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
01:52:05.340 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:40
Then status 200
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
01:52:05.341 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:41
And match $.result.status == 'failed'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
01:52:05.343 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:42
And match $.result.statusCode == 'PAY_1002'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
01:52:05.344 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:43
And match $.result.message == 'Request expired.'
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
01:52:05.345 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:44
* print response
>> classpath:test/readJSON_copy3.feature:30
>> karate-config.js failed
>> js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

js failed:
>>>>
01: 
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: }
<<<<
com.intuit.karate.KarateException: js failed:
>>>>
01: (
02: const karate = require('@karatelabs/karate');
03: karate.config.dir = '/users/myname/some/dir';
04: karate.jvm.args = `-Dlogback.configurationFile=${__dirname}/logback-test.xml`;
05: karate.exec("-T=5");
06: function fn() {
07:   if (!env) {
08:     env = 'staging';
09:   }
10:   var config = {  
11:     env: env,
12:     baseurl: 'https://apitest.livquik.com',
13:     
14:     
15:   }
16:   //'karate.env' - Get system property
17:   var env = karate.env;
18:   karate.log('karate.env system property was:', env);
19:   if (env == 'prod') {
20:     config.baseUrl = '';
21:   } else if (env == 'staging') {
22:     config.baseUrl = '';
23:   }
24:   karate.configure('connectTimeout', 5000);
25:   karate.configure('readTimeout', 5000);
26:   return config;
27:   
28: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const karate = require('@karatelabs/karate');
^
Unnamed:28:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioRuntime.evalConfigJs(ScenarioRuntime.java:296)
- com.intuit.karate.core.ScenarioRuntime.beforeRun(ScenarioRuntime.java:372)
- com.intuit.karate.core.ScenarioRuntime.run(ScenarioRuntime.java:391)
- com.intuit.karate.junit5.FeatureNode.lambda$next$1(FeatureNode.java:71)
- org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.lambda$execute$0(DynamicTestTestDescriptor.java:52)

classpath:test/readJSON_copy3.feature:5
classpath:test/readJSON_copy3.feature:19
classpath:test/readJSON_copy3.feature:20
classpath:test/readJSON_copy3.feature:22
classpath:test/readJSON_copy3.feature:31
classpath:test/readJSON_copy3.feature:32
classpath:test/readJSON_copy3.feature:33
classpath:test/readJSON_copy3.feature:35
classpath:test/readJSON_copy3.feature:36
classpath:test/readJSON_copy3.feature:37
classpath:test/readJSON_copy3.feature:38
classpath:test/readJSON_copy3.feature:39
classpath:test/readJSON_copy3.feature:40
classpath:test/readJSON_copy3.feature:41
classpath:test/readJSON_copy3.feature:42
classpath:test/readJSON_copy3.feature:43
classpath:test/readJSON_copy3.feature:44
02:05:16.866 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:05:18.338 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:05:18.423 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
02:08:37.588 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:08:38.980 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:08:39.086 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:22
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.fn(Unnamed:3)

classpath:test/readJSON_copy3.feature:22
02:16:15.490 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:16:16.984 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:16:17.092 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:22
* def jwttoken = token()
js failed:
>>>>
01: token()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.fn(Unnamed:3)

classpath:test/readJSON_copy3.feature:22
02:16:50.845 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON_copy3.feature - mismatched input 'c' expecting <EOF>
02:17:17.216 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:17:18.694 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:17:18.782 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
const jwt = require("jsonwebtoken")
      const reqBody = {
      mobileNumber: "+918369221597",
      deviceId: "123456",
      };
      const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
      function generateToken(reqBody, secretKey) {
      const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
      return token;
      }
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken")
02:       const reqBody = {
03:       mobileNumber: "+918369221597",
04:       deviceId: "123456",
05:       };
06:       const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07:       function generateToken(reqBody, secretKey) {
08:       const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09:       return token;
10:       }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
02:23:42.065 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:23:43.304 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:23:43.379 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
      try{
      
      const reqBody = {
      mobileNumber: "+918369221597",
      deviceId: "123456",
      };
      const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
      function generateToken(reqBody, secretKey) {
      const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
      return token;
      }}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02:       try{
03:       
04:       const reqBody = {
05:       mobileNumber: "+918369221597",
06:       deviceId: "123456",
07:       };
08:       const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09:       function generateToken(reqBody, secretKey) {
10:       const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
11:       return token;
12:       }}
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:6 Missing catch or finally after try
      try{
      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy3.feature:5
02:25:06.282 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
02:25:07.523 [main] INFO  com.intuit.karate - karate.env system property was: null 
02:25:07.627 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
      try{
      
      const reqBody = {
      mobileNumber: "+918369221597",
      deviceId: "123456",
      };
      const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
      function generateToken(reqBody, secretKey) {
      const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
      return token;
      }}
catch (e) {
// ...
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02:       try{
03:       
04:       const reqBody = {
05:       mobileNumber: "+918369221597",
06:       deviceId: "123456",
07:       };
08:       const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
09:       function generateToken(reqBody, secretKey) {
10:       const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
11:       return token;
12:       }}
13: catch (e) {
14: // ...
15: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:13:33.212 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:13:34.782 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:13:34.870 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }}
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:10:1 Expected eof but found }
}}
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy3.feature:5
11:14:29.801 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:14:31.144 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:14:31.236 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:15:44.446 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:15:45.838 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:15:45.951 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:17:59.168 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:18:00.520 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:18:00.621 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:55:26.385 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:55:27.912 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:55:28.015 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:59:40.723 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:59:42.104 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:59:42.193 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
12:19:11.710 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:19:14.658 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:19:14.856 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
13:13:27.177 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:13:28.756 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:13:28.877 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
13:15:40.243 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:15:41.765 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:15:41.878 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
13:16:48.199 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:16:49.453 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:16:49.555 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
13:18:08.323 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:18:09.582 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:18:09.691 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken") 
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken") 
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:25:06.729 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:25:09.594 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:25:09.819 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:30:02.902 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:30:04.450 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:30:04.570 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:33:21.251 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:33:22.831 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:33:22.915 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:36:00.908 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:36:02.546 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:36:02.655 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:43:46.876 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:43:48.449 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:43:48.564 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:44:57.428 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:45:25.671 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:45:28.404 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
14:56:12.892 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:56:16.170 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:56:16.322 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:53
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/processPayment_error_validation.feature:53
14:56:59.578 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:02.293 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:03.245 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: jwttoken
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 394
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

14:57:04.007 [main] DEBUG com.intuit.karate - response time in milliseconds: 754
1 < 200
1 < Server: nginx
1 < Date: Wed, 05 Apr 2023 09:27:03 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:57:04.066 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:65
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/processPayment_error_validation.feature:65
15:06:05.520 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_error_validation.feature - extraneous input '\n\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
15:24:58.158 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:24:59.980 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:25:00.120 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def token =
"""
var jwt = require("jsonwebtoken")
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: var jwt = require("jsonwebtoken")
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:5
11:08:46.781 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_error_validation.feature - extraneous input '\n\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
11:10:05.201 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:10:06.815 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:10:06.946 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:10:06.949 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:7
* url 'https://apitest.livquik.com'
"""
{
  "mobileNumber": "",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "1",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
  "paymentMode": {
    "bnpl": [
      {
        "paymentChannelId": "kotak_bnpl_cardless_*",
        "amount": "1"
      }
    ]
  },
  "source": "secure-2fr"
}
"""
no step-definition method match found for: url 'https://apitest.livquik.com'
classpath:test/processPayment_error_validation.feature:7
11:10:56.808 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:10:58.186 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:10:58.320 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:6
Then print jsonwebtoken.token
"""
{
  "mobileNumber": "",
  "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
  "channel": "app",
  "merchantId": "uk@wad7Si",
  "amount": "1",
  "currency": "INR",
  "merchantOrderId": "KOTAK-120903534354311",
  "callbackUrl": "https://localhost:8000/api/processPayment",
  "emiSubvention": false,
  "emiTransaction": false,
  "paymentMode": {
    "bnpl": [
      {
        "paymentChannelId": "kotak_bnpl_cardless_*",
        "amount": "1"
      }
    ]
  },
  "source": "secure-2fr"
}
"""
no step-definition method match found for: print jsonwebtoken.token
classpath:test/processPayment_error_validation.feature:6
11:14:14.926 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:14:16.208 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:14:16.329 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:14:16.715 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:14:17.038 [main] DEBUG com.intuit.karate - response time in milliseconds: 320
1 < 200
1 < Server: nginx
1 < Date: Mon, 10 Apr 2023 05:44:17 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 17
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:14:17.065 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:15:23.493 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:15:24.645 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:15:24.789 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:15:25.113 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 409
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:15:25.459 [main] DEBUG com.intuit.karate - response time in milliseconds: 342
1 < 200
1 < Server: nginx
1 < Date: Mon, 10 Apr 2023 05:45:25 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:15:25.484 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:46:06.027 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/processPayment_error_validation.feature - extraneous input '\n\n\n  Background:' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
11:46:32.214 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:46:33.692 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:46:33.833 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:46:34.254 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:46:34.651 [main] DEBUG com.intuit.karate - response time in milliseconds: 394
1 < 200
1 < Server: nginx
1 < Date: Mon, 10 Apr 2023 06:16:34 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:46:34.679 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:46:34.725 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:46:34.736 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:46:34.769 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:56
And request requestPayload1
js failed:
>>>>
01: requestPayload1
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload1" is not defined
- <js>.:program(Unnamed:1)

classpath:test/processPayment_error_validation.feature:56
11:46:59.400 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:47:00.698 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:47:00.820 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:47:01.140 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:47:01.445 [main] DEBUG com.intuit.karate - response time in milliseconds: 302
1 < 200
1 < Server: nginx
1 < Date: Mon, 10 Apr 2023 06:17:01 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:47:01.472 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
11:47:01.505 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:47:01.516 [main] INFO  com.intuit.karate - [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM 
11:47:01.529 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJtb2JpbGVOdW1iZXIiOiIrOTE4MzY5MjIxNTk3IiwiZGV2aWNlSWQiOiIxMjM0NTYiLCJjaGFubmVsIjoiYXBwIiwibWVyY2hhbnRJZCI6ImZ6QU1KclhjciIsImFtb3VudCI6IjEwMDAiLCJjdXJyZW5jeSI6IklOUiIsImlhdCI6MTY4MDAwMjAzNSwiZXhwIjoxNjgwMDAyOTM1fQ.SnAI2h7ZQE7P6LN7Ic27RY_0flrK95y253VZi2yS3QM
1 > Content-Type: application/json; charset=UTF-8
1 > TENENT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

11:47:01.592 [main] DEBUG com.intuit.karate - response time in milliseconds: 62
1 < 200
1 < Server: nginx
1 < Date: Mon, 10 Apr 2023 06:17:01 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 5
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

11:47:01.604 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
13:50:34.826 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:50:36.359 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:50:36.458 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:50:52.149 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:50:54.744 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:50:54.877 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
16:53:54.853 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:53:56.052 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:53:56.136 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:03:40.517 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:03:41.762 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:03:41.849 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:36:20.350 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:36:21.934 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:36:22.029 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT('your string payload')
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT('your string payload')
classpath:test/readJSON_copy3.feature:30
17:49:09.188 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON_copy3.feature - extraneous input '\n\n      """\n      {\n      "mobileNumber": "+918722000003",\n      "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n      }\n      """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
17:50:22.990 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:50:24.674 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:50:24.781 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT('token')
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT('token')
classpath:test/readJSON_copy3.feature:30
17:54:42.078 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:54:43.296 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:54:43.391 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:44
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:44
17:56:08.782 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:56:10.127 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:56:10.249 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:5
* def returntoken =
"""
package com.m2pfintech.payatease.gateway.service.m2pacq;
import com.fasterxml.jackson.databind.ObjectMapper;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import io.jsonwebtoken.security.Keys;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import java.security.Key;
import java.util.Base64;
import java.util.Map;
@Slf4j
@Component
public class M2pAcqAuthPayloadGenerator
{
@Autowired
private ObjectMapper objectMapper;
public String getAuthPayload(String secretKey,Object payload)
{
byte[] secretBytes = Base64.getDecoder().decode(secretKey);
Key hmacKey = Keys.hmacShaKeyFor(secretBytes);
Map<String, Object> payloadMap = objectMapper.convertValue(payload, Map.class);
String jwtPayload = Jwts.builder()
.setClaims(payloadMap)
.signWith(hmacKey, SignatureAlgorithm.HS256)
.compact();
return jwtPayload; } }
"""
js failed:
>>>>
01: package com.m2pfintech.payatease.gateway.service.m2pacq;
02: import com.fasterxml.jackson.databind.ObjectMapper;
03: import io.jsonwebtoken.Jwts;
04: import io.jsonwebtoken.SignatureAlgorithm;
05: import io.jsonwebtoken.security.Keys;
06: import lombok.extern.slf4j.Slf4j;
07: import org.springframework.beans.factory.annotation.Autowired;
08: import org.springframework.stereotype.Component;
09: import java.security.Key;
10: import java.util.Base64;
11: import java.util.Map;
12: @Slf4j
13: @Component
14: public class M2pAcqAuthPayloadGenerator
15: {
16: @Autowired
17: private ObjectMapper objectMapper;
18: public String getAuthPayload(String secretKey,Object payload)
19: {
20: byte[] secretBytes = Base64.getDecoder().decode(secretKey);
21: Key hmacKey = Keys.hmacShaKeyFor(secretBytes);
22: Map<String, Object> payloadMap = objectMapper.convertValue(payload, Map.class);
23: String jwtPayload = Jwts.builder()
24: .setClaims(payloadMap)
25: .signWith(hmacKey, SignatureAlgorithm.HS256)
26: .compact();
27: return jwtPayload; } }
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:8 Expected ; but found com
package com.m2pfintech.payatease.gateway.service.m2pacq;
        ^
Unnamed:2:0 Expected an operand but found import
import com.fasterxml.jackson.databind.ObjectMapper;
^
Unnamed:3:0 Expected an operand but found import
import io.jsonwebtoken.Jwts;
^
Unnamed:4:0 Expected an operand but found import
import io.jsonwebtoken.SignatureAlgorithm;
^
Unnamed:5:0 Expected an operand but found import
import io.jsonwebtoken.security.Keys;
^
Unnamed:6:0 Expected an operand but found import
import lombok.extern.slf4j.Slf4j;
^
Unnamed:7:0 Expected an operand but found import
import org.springframework.beans.factory.annotation.Autowired;
^
Unnamed:8:0 Expected an operand but found import
import org.springframework.stereotype.Component;
^
Unnamed:9:0 Expected an operand but found import
import java.security.Key;
^
Unnamed:10:0 Expected an operand but found import
import java.util.Base64;
^
Unnamed:11:0 Expected an operand but found import
import java.util.Map;
^
Unnamed:12:0 Expected an operand but found error
@Slf4j
^
Unnamed:13:0 Expected an operand but found error
@Component
^
Unnamed:14:7 Expected ; but found class
public class M2pAcqAuthPayloadGenerator
       ^
Unnamed:16:0 Expected an operand but found error
@Autowired
^
Unnamed:17:8 Expected ; but found ObjectMapper
private ObjectMapper objectMapper;
        ^
Unnamed:18:7 Expected ; but found String
public String getAuthPayload(String secretKey,Object payload)
       ^
Unnamed:20:5 Expected an operand but found ]
byte[] secretBytes = Base64.getDecoder().decode(secretKey);
     ^
Unnamed:21:4 Expected ; but found hmacKey
Key hmacKey = Keys.hmacShaKeyFor(secretBytes);
    ^
Unnamed:22:18 Invalid left hand side for assignment
Map<String, Object> payloadMap = objectMapper.convertValue(payload, Map.class);
                  ^
Unnamed:23:7 Expected ; but found jwtPayload
String jwtPayload = Jwts.builder()
       ^
Unnamed:24:0 Expected an operand but found .
.setClaims(payloadMap)
^
Unnamed:25:0 Expected an operand but found .
.signWith(hmacKey, SignatureAlgorithm.HS256)
^
Unnamed:26:0 Expected an operand but found .
.compact();
^
Unnamed:27:0 Invalid return statement
return jwtPayload; } }
^
Unnamed:27:19 Expected eof but found }
return jwtPayload; } }
                   ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/readJSON_copy3.feature:5
17:57:34.806 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:57:36.276 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:57:36.369 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT('your string payload')
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT('your string payload')
classpath:test/readJSON_copy3.feature:30
11:23:28.875 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:23:30.468 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:23:30.574 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT('your string payload')
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT('your string payload')
classpath:test/readJSON_copy3.feature:30
11:24:05.437 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:24:06.753 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:24:06.841 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT ('your string payload')
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT ('your string payload')
classpath:test/readJSON_copy3.feature:30
11:24:32.273 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:24:34.249 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:24:34.358 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
* print generateJWT = "token"
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print generateJWT = "token"
classpath:test/readJSON_copy3.feature:30
11:25:19.534 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:25:20.910 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:25:21.012 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
Then print token
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print token
classpath:test/readJSON_copy3.feature:30
11:26:45.696 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:26:47.030 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:26:47.109 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:16
* def token = get(jwttoken)
"""
function(payload) {
var headerEncoded = encodeBase64(JSON.stringify({alg: "HS256", typ: "JWT"}))
var payloadEncoded = encodeBase64(payload)
var toSign = headerEncoded + '.' + payloadEncoded
var sha256HMAC = Java.type('javax.crypto.Mac').getInstance("HmacSHA256")
var secretKey = new javax.crypto.spec.SecretKeySpec(apiJwtKey.getBytes("UTF-8"), "HmacSHA256")
sha256HMAC.init(secretKey)
var signature = encodeBase64FromBytes(sha256HMAC.doFinal(toSign.getBytes("UTF-8")))
var token = toSign + '.' + signature
return token
}
"""
no step-definition method match found for: def token = get(jwttoken)
classpath:test/readJSON_copy3.feature:16
12:07:12.270 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:07:13.810 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:07:13.899 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
Then print token
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print token
classpath:test/readJSON_copy3.feature:30
16:06:04.287 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:06:05.978 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:06:06.105 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:30
Then print token
"""
{
"mobileNumber": "+918722000003",
"deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",
}
"""
no step-definition method match found for: print token
classpath:test/readJSON_copy3.feature:30
16:07:45.499 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/readJSON_copy3.feature - extraneous input '\n\n      """\n      {\n      "mobileNumber": "+918722000003",\n      "deviceId": "9F0D7162-F90E-41B7-8357-88891C33F0ED",\n      }\n      """' expecting {<EOF>, SCENARIO, SCENARIO_OUTLINE, TAGS, NEWLINE}
16:32:33.908 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:32:36.910 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:32:37.098 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:33
00:35:18.314 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:35:20.734 [main] INFO  com.intuit.karate - karate.env system property was: null 
00:35:20.840 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
00:37:24.491 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
00:37:26.451 [main] INFO  com.intuit.karate - karate.env system property was: null 
00:37:26.585 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:33
12:32:50.243 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:32:51.882 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:32:52.001 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
And request requestPayload
js failed:
>>>>
01: requestPayload
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "requestPayload" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:33
12:34:20.231 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:34:21.511 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:34:21.616 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:38
And header Authorization = generateJWT
js failed:
>>>>
01: generateJWT
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "generateJWT" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:38
12:36:04.901 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:36:06.527 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:36:06.623 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
12:36:07.181 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

12:36:07.645 [main] DEBUG com.intuit.karate - response time in milliseconds: 457
1 < 200
1 < Server: nginx
1 < Date: Thu, 13 Apr 2023 07:06:07 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 23
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:36:07.713 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:51
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy3.feature:51
14:34:34.435 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:34:36.239 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:34:36.365 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
14:34:36.937 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:34:37.410 [main] DEBUG com.intuit.karate - response time in milliseconds: 468
1 < 200
1 < Server: nginx
1 < Date: Thu, 13 Apr 2023 09:04:37 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 11
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:34:37.438 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:51
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy3.feature:51
14:36:46.712 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:36:48.112 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:36:48.222 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
14:36:48.669 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: 
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:36:49.028 [main] DEBUG com.intuit.karate - response time in milliseconds: 357
1 < 200
1 < Server: nginx
1 < Date: Thu, 13 Apr 2023 09:06:49 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 3
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:36:49.052 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:51
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy3.feature:51
14:40:11.495 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:40:12.778 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:40:12.887 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:33
Then print token1
js failed:
>>>>
01: karate.log('[print]',token1)
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token1" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:33
14:42:20.281 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:42:21.554 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:42:21.652 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
14:42:22.071 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:42:22.434 [main] DEBUG com.intuit.karate - response time in milliseconds: 359
1 < 200
1 < Server: nginx
1 < Date: Thu, 13 Apr 2023 09:12:22 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:42:22.484 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:50
And match $.result.message == 'Request expired.'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Request expired.'

classpath:test/readJSON_copy3.feature:50
14:57:28.771 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:30.144 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:30.254 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
14:57:30.720 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

14:57:31.035 [main] DEBUG com.intuit.karate - response time in milliseconds: 312
1 < 200
1 < Server: nginx
1 < Date: Thu, 13 Apr 2023 09:27:30 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:57:31.060 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
17:07:04.598 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:07:06.239 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:07:06.350 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
17:07:06.873 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

17:07:07.393 [main] DEBUG com.intuit.karate - response time in milliseconds: 518
1 < 200
1 < Server: nginx
1 < Date: Tue, 18 Apr 2023 11:37:07 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

17:07:07.417 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
12:22:49.668 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:22:51.742 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:22:51.841 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
12:22:52.437 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

12:22:53.563 [main] DEBUG com.intuit.karate - response time in milliseconds: 1117
1 < 200
1 < Server: nginx
1 < Date: Fri, 21 Apr 2023 06:52:54 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 15
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

12:22:53.606 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:55:25.838 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:55:28.183 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:55:28.297 [main] ERROR com.intuit.karate - classpath:test/readJSON.feature:7
* def returntoken =
"""
const jwt = require("jsonwebtoken");
const reqBody = {
mobileNumber: "+918369221597",
deviceId: "123456",
};
const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
function generateToken(reqBody, secretKey) {
const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
return token;
}
"""
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const reqBody = {
03: mobileNumber: "+918369221597",
04: deviceId: "123456",
05: };
06: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
07: function generateToken(reqBody, secretKey) {
08: const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
09: return token;
10: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON.feature:7
17:32:46.904 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:32:48.615 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:32:48.732 [main] INFO  com.intuit.karate - [print] com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa 
17:32:49.318 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@36b310aa
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

17:32:50.322 [main] DEBUG com.intuit.karate - response time in milliseconds: 984
1 < 200
1 < Server: nginx
1 < Date: Fri, 21 Apr 2023 12:02:50 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 14
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

17:32:50.390 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
18:28:07.528 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:28:09.127 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:28:09.262 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('classpath:generateToken.js')
js failed:
>>>>
01: read('classpath:generateToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: generateToken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
18:29:44.662 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:29:45.911 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:29:46.046 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:7
Given def token = generateToken('myusername', 3600000)
js failed:
>>>>
01: generateToken('myusername', 3600000)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class io.jsonwebtoken.Jwts is not allowed or does not exist.
- <js>.generateToken(Unnamed:2)

classpath:test/generateToken.feature:7
18:34:23.279 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:34:24.591 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:34:24.932 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:7
Given def token = generateToken('myusername', 3600000)
js failed:
>>>>
01: generateToken('myusername', 3600000)
<<<<
org.graalvm.polyglot.PolyglotException: javax/xml/bind/DatatypeConverter
- io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)
- io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)
- <js>.generateToken(Unnamed:5)

classpath:test/generateToken.feature:7
18:35:28.903 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:35:30.141 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:35:30.313 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('classpath:generateToken.js')
js failed:
>>>>
01: read('classpath:generateToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: generateToken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
18:36:05.091 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:36:06.391 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:36:06.706 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:7
Given def token = generateToken('myusername', 3600000)
js failed:
>>>>
01: generateToken('myusername', 3600000)
<<<<
org.graalvm.polyglot.PolyglotException: javax/xml/bind/DatatypeConverter
- io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)
- io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)
- <js>.generateToken(Unnamed:5)

classpath:test/generateToken.feature:7
18:39:02.157 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:39:03.575 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:39:04.002 [main] INFO  com.intuit.karate - [print] Generated JWT Token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJteXVzZXJuYW1lIiwiZXhwIjoxNjgyMDg2MTQzfQ.tanzf0iwm7az50grB3WPLgaib0w3BvuvvsMxpLEIHns 
18:39:04.007 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:9
And set token
java.lang.NullPointerException
classpath:test/generateToken.feature:9
18:42:46.767 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:42:48.046 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:42:48.153 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (
02: 
03: const jwt = require("jsonwebtoken");
04: const reqBody = {
05:   mobileNumber: "+918369221597",
06:   deviceId: "123456",
07: };
08: 
09: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
10: 
11: function generateToken(reqBody, secretKey) {
12:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
13:   return token;
14: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:3:0 Expected an operand but found const
const jwt = require("jsonwebtoken");
^
Unnamed:14:1 Expected ; but found )
})
 ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
18:46:30.911 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:46:32.122 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:46:32.214 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (const jwt = require('jsonwebtoken');
02: 
03: const payload = {
04:   userId: 123,
05:   userName: 'john.doe'
06: };
07: 
08: const secretKey = 'sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT';
09: 
10: const token = jwt.sign(payload, secretKey);
11: 
12: console.log(token);
13: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found const
(const jwt = require('jsonwebtoken');
 ^
Unnamed:13:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
18:48:39.609 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:48:40.913 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:48:41.020 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (var jwt = require('jsonwebtoken');
02: 
03: var payload = {
04:   userId: 123,
05:   userName: 'john.doe'
06: };
07: 
08: var secretKey = 'sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT';
09: 
10: var token = jwt.sign(payload, secretKey);
11: 
12: console.log(token);
13: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:1 Expected an operand but found var
(var jwt = require('jsonwebtoken');
 ^
Unnamed:13:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
18:51:16.335 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
18:51:18.043 [main] INFO  com.intuit.karate - karate.env system property was: null 
18:51:18.130 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateToken = read('jwttoken.js')
js failed:
>>>>
01: read('jwttoken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (let jwt = require('jsonwebtoken');
02: 
03: let payload = {
04:   userId: 123,
05:   userName: 'john.doe'
06: };
07: 
08: let secretKey = 'sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT';
09: 
10: let token = jwt.sign(payload, secretKey);
11: 
12: console.log(token);
13: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:5 Expected ) but found jwt
(let jwt = require('jsonwebtoken');
     ^
Unnamed:13:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:120)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
16:25:51.043 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:25:52.796 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:25:52.889 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def JwtTokenGenerator = Java.type('com.example.JwtTokenGenerator')
js failed:
>>>>
01: Java.type('com.example.JwtTokenGenerator')
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: Access to host class com.example.JwtTokenGenerator is not allowed or does not exist.
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
16:33:41.715 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:33:42.938 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:33:43.112 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:10
And def jwtToken = JwtTokenGenerator.generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: JwtTokenGenerator.generateJwtToken(payload, secretKey, expirationMillis)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (generateJwtToken) on test.JwtTokenGenerator failed due to: Cannot convert '{username=john.doe, role=admin}'(language: Java, type: com.intuit.karate.graal.JsMap) to Java type 'java.lang.String': Invalid or lossy primitive coercion.
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:10
16:36:04.441 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:36:05.761 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:36:05.912 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:12
And def jwtToken = JwtTokenGenerator.generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: JwtTokenGenerator.generateJwtToken(payload, secretKey, expirationMillis)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (generateJwtToken) on test.JwtTokenGenerator failed due to: Cannot convert '{username=john.doe, role=admin}'(language: Java, type: com.intuit.karate.graal.JsMap) to Java type 'java.lang.String': Invalid or lossy primitive coercion.
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:12
16:45:34.825 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/generateToken.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
16:49:09.347 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:49:10.556 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:49:10.715 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:18
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:18
16:52:17.423 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:52:18.700 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:52:18.834 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:17
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:17
16:59:41.992 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:59:43.349 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:59:43.511 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:17
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:17
17:03:23.560 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:03:24.915 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:03:25.062 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:17
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:17
17:04:51.673 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:04:53.033 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:04:53.180 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:17
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:17
17:10:58.162 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:10:59.946 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:11:00.091 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
17:16:39.719 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:16:41.087 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:16:41.233 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:24
And header Authorization = 'Bearer ' + jwtToken
js failed:
>>>>
01: 'Bearer ' + jwtToken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jwtToken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:24
17:18:28.614 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:18:30.427 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:18:30.589 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
17:19:12.462 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:19:13.731 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:19:13.863 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
17:22:57.392 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
17:22:59.656 [main] INFO  com.intuit.karate - karate.env system property was: null 
17:22:59.994 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
11:53:15.261 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:53:16.694 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:53:16.800 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('classpath:jwt.js', 'generateToken', 'my-secret-key', 'my-issuer', 'my-subject', 60)
js failed:
>>>>
01: karate.call('classpath:jwt.js', 'generateToken', 'my-secret-key', 'my-issuer', 'my-subject', 60)
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (call) on com.intuit.karate.core.ScenarioBridge@2babf189 failed due to: Arity error - expected: 1-3 actual: 6
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
11:56:51.290 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
11:56:52.617 [main] INFO  com.intuit.karate - karate.env system property was: null 
11:56:52.792 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
12:08:04.988 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/generateToken.feature - mismatched input '"' expecting <EOF>
12:10:52.964 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/generateToken.feature - mismatched input 'm' expecting <EOF>
12:12:44.385 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:12:45.567 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:12:45.727 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:24
And def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:24
12:17:18.799 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:17:20.198 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:17:20.360 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
Given def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
12:19:43.269 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:19:44.595 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:19:44.754 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:23
Given def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:23
12:21:14.808 [main] ERROR com.intuit.karate.core.FeatureParser - not a valid feature file: test/generateToken.feature - mismatched input '<EOF>' expecting {FEATURE_TAGS, FEATURE}
12:25:28.889 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:25:30.054 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:25:30.187 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
Given def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
12:27:29.428 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
12:27:30.793 [main] INFO  com.intuit.karate - karate.env system property was: null 
12:27:30.939 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
Given def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
15:42:38.513 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:42:40.114 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:42:40.257 [main] ERROR com.intuit.karate - classpath:test/processPayment_error_validation.feature:58
And header Authorization = jsonwebtoken.token   //write token form json file
js failed:
>>>>
01: jsonwebtoken.token   //write token form json file
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jsonwebtoken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/processPayment_error_validation.feature:58
15:43:29.183 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:43:30.516 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:43:31.118 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 396
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED","channel":"app","merchantId":"uk@wad7Si","amount":"60","currency":"INR","merchantOrderId":"KOTAK-120903534354311","callbackUrl":"https:\/\/localhost:8000\/api\/processPayment","emiSubvention":false,"emiTransaction":false,"paymentMode":{"bnpl":[{"paymentChannelId":"kotak_bnpl_cardless_*","amount":"60"}]},"source":"secure-2fr"}

15:43:31.493 [main] DEBUG com.intuit.karate - response time in milliseconds: 372
1 < 200
1 < Server: nginx
1 < Date: Mon, 24 Apr 2023 10:13:32 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 11
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

15:43:31.532 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
13:22:42.767 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:22:44.331 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:22:44.507 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:22
Given def jwtToken = call generateJwtToken(payload, secretKey, expirationMillis)
js failed:
>>>>
01: generateJwtToken(payload,
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:25 Expected an operand but found eof
generateJwtToken(payload,
                         ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.call(ScenarioEngine.java:1858)

classpath:test/generateToken.feature:22
13:27:02.465 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:27:03.830 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:27:03.947 [main] DEBUG c.intuit.karate.core.ScenarioEngine - over-writing existing variable 'generateJwtToken' with new value: function(payload, secretKey, expirationMillis) {
// function body
}
13:27:03.971 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:29
And header Authorization = jwtToken
js failed:
>>>>
01: jwtToken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jwtToken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:29
13:27:40.730 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:27:42.080 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:27:42.691 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: com.intuit.karate.graal.JsValue$SharableMembersAndInstantiable@4893b344
1 > TENANT: KOTAK_BNPL
1 > Content-Type: application/json
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate


13:27:43.358 [main] DEBUG com.intuit.karate - response time in milliseconds: 663
1 < 200
1 < Server: nginx
1 < Date: Tue, 25 Apr 2023 07:57:43 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 15
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

13:45:09.186 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:45:10.687 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:45:10.798 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateJwtToken =
"""
function generateJwtToken(payload, secret)
const jwt = require('jsonwebtoken')
let reqBody = {
"mobileNumber": "+918448848902",
"deviceId": "EB57FCDE-097D-4483-8CCF-27649FFC8B2A",
}
const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
return token;
}
"""
js failed:
>>>>
01: (function generateJwtToken(payload, secret)
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04: "mobileNumber": "+918448848902",
05: "deviceId": "EB57FCDE-097D-4483-8CCF-27649FFC8B2A",
06: }
07: const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: return token;
10: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:2:0 Expected an operand but found const
const jwt = require('jsonwebtoken')
^
Unnamed:9:0 Invalid return statement
return token;
^
Unnamed:10:0 Expected eof but found }
})
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/generateToken.feature:4
13:46:01.746 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:46:03.142 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:46:03.245 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def generateJwtToken =
"""
function generateJwtToken(payload, secret){
const jwt = require('jsonwebtoken')
let reqBody = {
"mobileNumber": "+918448848902",
"deviceId": "EB57FCDE-097D-4483-8CCF-27649FFC8B2A",
}
const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo"
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
return token;
}
"""
js failed:
>>>>
01: (function generateJwtToken(payload, secret){
02: const jwt = require('jsonwebtoken')
03: let reqBody = {
04: "mobileNumber": "+918448848902",
05: "deviceId": "EB57FCDE-097D-4483-8CCF-27649FFC8B2A",
06: }
07: const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo"
08: const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
09: return token;
10: })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:7:6 Variable "secret" has already been declared
const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo"
      ^
Unnamed:8:62 Expected ; but found )
const token = jwt.sign(reqBody, secret, { expiresIn: 60 * 15 })
                                                              ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)
- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)
- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)

classpath:test/generateToken.feature:4
13:47:45.949 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:47:47.413 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:47:47.540 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:23
And header Authorization = jwtToken
js failed:
>>>>
01: jwtToken
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "jwtToken" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:23
13:54:24.639 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:54:25.872 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:54:25.966 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:23
And header Authorization = token
js failed:
>>>>
01: token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:23
13:57:52.331 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
13:57:53.609 [main] INFO  com.intuit.karate - karate.env system property was: null 
13:57:53.707 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:24
And header Authorization = token
js failed:
>>>>
01: token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:24
14:01:03.535 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:01:04.966 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:01:05.075 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:24
And header Authorization = token
js failed:
>>>>
01: token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:24
14:01:31.569 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:01:32.941 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:01:33.362 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: tdfyudfuyfuytfuyfuy
1 > TENANT: KOTAK_BNPL
1 > Content-Type: application/json
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate


14:01:33.942 [main] DEBUG com.intuit.karate - response time in milliseconds: 577
1 < 200
1 < Server: nginx
1 < Date: Tue, 25 Apr 2023 08:31:33 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 10
1 < X-Kong-Proxy-Latency: 1
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:08:57.343 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:08:59.076 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:08:59.187 [1682411939185] DEBUG com.intuit.karate - command: [generateToken.js], working dir: null
14:08:59.204 [1682411939185] ERROR com.intuit.karate.shell.Command - command error: [generateToken.js] - Cannot run program "generateToken.js": error=2, No such file or directory
14:08:59.572 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: Bearer 
1 > TENANT: KOTAK_BNPL
1 > Content-Type: application/json
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate


14:09:00.051 [main] DEBUG com.intuit.karate - response time in milliseconds: 463
1 < 200
1 < Server: nginx
1 < Date: Tue, 25 Apr 2023 08:39:00 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 11
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:13:39.314 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:13:40.696 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:13:40.761 [1682412220760] DEBUG com.intuit.karate - command: [test/generateToken.js], working dir: null
14:13:40.793 [1682412220760] ERROR com.intuit.karate.shell.Command - command error: [test/generateToken.js] - Cannot run program "test/generateToken.js": error=2, No such file or directory
14:13:41.178 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: Bearer 
1 > TENANT: KOTAK_BNPL
1 > Content-Type: application/json
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate


14:13:41.543 [main] DEBUG com.intuit.karate - response time in milliseconds: 363
1 < 200
1 < Server: nginx
1 < Date: Tue, 25 Apr 2023 08:43:41 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 6
1 < X-Kong-Proxy-Latency: 5
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:23:15.429 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:23:16.913 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:23:16.981 [1682412796980] DEBUG com.intuit.karate - command: [/myproject/src/test/java/test/generateToken.js], working dir: null
14:23:16.986 [1682412796980] ERROR com.intuit.karate.shell.Command - command error: [/myproject/src/test/java/test/generateToken.js] - Cannot run program "/myproject/src/test/java/test/generateToken.js": error=2, No such file or directory
14:23:17.353 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Authorization: 
1 > TENANT: KOTAK_BNPL
1 > Content-Type: application/json
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate


14:23:17.833 [main] DEBUG com.intuit.karate - response time in milliseconds: 475
1 < 200
1 < Server: nginx
1 < Date: Tue, 25 Apr 2023 08:53:17 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 8
1 < X-Kong-Proxy-Latency: 7
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

14:26:10.192 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:26:11.590 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:26:11.655 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:24
And header Authorization =
no step-definition method match found for: header Authorization =
classpath:test/generateToken_copy.feature:24
14:30:24.655 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:30:26.109 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:30:26.219 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:24
* def jwtToken = karate.call('generateJwtToken')
js failed:
>>>>
01: karate.call('generateJwtToken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_API/myproject/target/test-classes/test/generateJwtToken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken_copy.feature:24
14:32:19.030 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:32:20.568 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:32:20.650 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = karate.call('generateJwtToken')
js failed:
>>>>
01: karate.call('generateJwtToken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_API/myproject/target/test-classes/test/generateJwtToken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken_copy.feature:23
14:37:55.764 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:37:57.129 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:37:57.220 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def jwtToken = karate.call('generateJwtToken')
js failed:
>>>>
01: karate.call('generateJwtToken')
<<<<
org.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: /home/livquik/Desktop/karate_API/myproject/target/test-classes/test/generateJwtToken (No such file or directory)
- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:76)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
14:38:42.873 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:38:44.325 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:38:44.431 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def jwtToken = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.generateJwtToken(Unnamed:2)

classpath:test/generateToken.feature:4
14:43:56.310 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:43:57.908 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:43:57.986 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:22
* def jwtToken = karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (call) on com.intuit.karate.core.ScenarioBridge@22590e3e failed due to: no applicable overload found (overloads: [Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String,org.graalvm.polyglot.Value)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String,org.graalvm.polyglot.Value)]], arguments: [classpath:generateJwtToken.js (String), DynamicObject<null>@293d0107 (Nullish), DynamicObject<JSOrdinary>@3491e86e (DefaultLayout)])
- <js>.:program(Unnamed:1)

classpath:test/generateToken_copy.feature:22
14:46:23.049 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:46:24.527 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:46:24.615 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (call) on com.intuit.karate.core.ScenarioBridge@2b329bbd failed due to: no applicable overload found (overloads: [Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String,org.graalvm.polyglot.Value)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String,org.graalvm.polyglot.Value)]], arguments: [classpath:generateJwtToken.js (String), DynamicObject<null>@74cadd41 (Nullish), DynamicObject<JSOrdinary>@53dad875 (DefaultLayout)])
- <js>.:program(Unnamed:1)

classpath:test/generateToken_copy.feature:23
14:47:15.670 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --runtime=node
14:47:46.014 [main] INFO  com.intuit.karate.Runner - using system property 'karate.options': --runtime=node
14:49:17.605 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:49:19.086 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:49:19.170 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js', null, {engine: 'node'})
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (call) on com.intuit.karate.core.ScenarioBridge@22590e3e failed due to: no applicable overload found (overloads: [Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String,org.graalvm.polyglot.Value)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String,org.graalvm.polyglot.Value)]], arguments: [classpath:generateJwtToken.js (String), DynamicObject<null>@293d0107 (Nullish), DynamicObject<JSOrdinary>@3491e86e (DefaultLayout)])
- <js>.:program(Unnamed:1)

classpath:test/generateToken_copy.feature:23
14:53:09.154 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:10.587 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:10.658 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('classpath:generateJwtToken.js', null, { engine: 'node' })
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js', null, { engine: 'node' })
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (call) on com.intuit.karate.core.ScenarioBridge@4ca8dbfa failed due to: no applicable overload found (overloads: [Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(java.lang.String,org.graalvm.polyglot.Value)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String)], Method[public java.lang.Object com.intuit.karate.core.ScenarioBridge.call(boolean,java.lang.String,org.graalvm.polyglot.Value)]], arguments: [classpath:generateJwtToken.js (String), DynamicObject<null>@7e3060d8 (Nullish), DynamicObject<JSOrdinary>@58a2b4c (DefaultLayout)])
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
14:53:44.565 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:45.996 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:46.157 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('classpath:generateJwtToken.js')
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: generateJwtToken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

classpath:test/generateToken.feature:4
14:54:14.518 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:54:15.950 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:54:16.063 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (function generateJwtToken(payload) {
02:   const jwt = require('jsonwebtoken')
03:   const reqBody = {
04:     mobileNumber: "+918448848902",
05:     deviceId: "EB57FCDE-097D-4483-8CCF-27649FFC8B2A"
06:   };
07:   const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo";
08:   const token = jwt.sign(reqBody, secret)
09:   karate.log('Generated token:', token);
10:   return token;
11: }
12: module.exports = { generateJwtToken };)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:12:0 Expected ) but found module
module.exports = { generateJwtToken };)
^
Unnamed:12:38 Expected ; but found )
module.exports = { generateJwtToken };)
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
14:57:06.629 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:57:08.125 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:57:08.245 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (function generateJwtToken(payload) {
02:   const jwt = require('jsonwebtoken')
03:   const reqBody = {
04:     mobileNumber: "+918448848902",
05:     deviceId: "EB57FCDE-097D-4483-8CCF-27649FFC8B2A"
06:   };
07:   const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo";
08:   const token = jwt.sign(reqBody, secret)
09:   karate.log('Generated token:', token);
10:   return token;
11: };
12: module.exports = { generateJwtToken })
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:11:1 Expected ) but found ;
};
 ^
Unnamed:12:37 Expected ; but found )
module.exports = { generateJwtToken })
                                     ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
15:00:52.893 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:00:54.357 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:00:54.471 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (function generateJwtToken(payload) {
02:   const jwt = require('jsonwebtoken')
03:   const reqBody = {
04:     mobileNumber: "+918448848902",
05:     deviceId: "EB57FCDE-097D-4483-8CCF-27649FFC8B2A"
06:   };
07:   const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo";
08:   const token = jwt.sign(reqBody, secret)
09:   karate.log('Generated token:', token);
10:   return token;
11: }
12: module.exports = { generateJwtToken };)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:12:0 Expected ) but found module
module.exports = { generateJwtToken };)
^
Unnamed:12:38 Expected ; but found )
module.exports = { generateJwtToken };)
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
15:02:08.025 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:09.635 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:09.770 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (function generateJwtToken(payload) {
02:   const jwt = require('jsonwebtoken')
03:   const reqBody = {
04:     mobileNumber: "+918448848902",
05:     deviceId: "EB57FCDE-097D-4483-8CCF-27649FFC8B2A"
06:   };
07:   const secret = "sk_live_ND4ehnhRk2TRz7MVPbOH4FkCUDy7elv0QP3xUVWo";
08:   const token = jwt.sign(reqBody, secret)
09:   karate.log('Generated token:', token);
10:   return token;
11: }
12: module.exports = { generateJwtToken };)
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:12:0 Expected ) but found module
module.exports = { generateJwtToken };)
^
Unnamed:12:38 Expected ; but found )
module.exports = { generateJwtToken };)
                                      ^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.:program(Unnamed:1)

classpath:test/generateToken.feature:4
15:10:49.333 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:10:50.774 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:10:50.881 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.generateJwtToken(Unnamed:2)

classpath:test/generateToken.feature:4
15:15:41.344 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:15:42.823 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:15:43.012 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: node_modules/jsonwebtoken/index.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

classpath:test/generateToken.feature:4
15:18:31.085 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:18:32.565 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:18:32.694 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (module.exports = {
02:   decode: require('./decode'),
03:   verify: require('./verify'),
04:   sign: require('./sign'),
05:   JsonWebTokenError: require('./lib/JsonWebTokenError'),
06:   NotBeforeError: require('./lib/NotBeforeError'),
07:   TokenExpiredError: require('./lib/TokenExpiredError'),
08: };
09: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:8:1 Expected ) but found ;
};
 ^
Unnamed:9:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.generateJwtToken(Unnamed:2)

classpath:test/generateToken.feature:4
15:39:10.438 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:39:11.826 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:39:11.967 [main] ERROR com.intuit.karate - classpath:test/generateToken.feature:4
* def token = karate.call('generateJwtToken.js')
js failed:
>>>>
01: karate.call('generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: js failed:
>>>>
01: (module.exports = {
02:   decode: require('./decode'),
03:   verify: require('./verify'),
04:   sign: require('./sign'),
05:   JsonWebTokenError: require('./lib/JsonWebTokenError'),
06:   NotBeforeError: require('./lib/NotBeforeError'),
07:   TokenExpiredError: require('./lib/TokenExpiredError'),
08: };
09: )
<<<<
org.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:8:1 Expected ) but found ;
};
 ^
Unnamed:9:0 Expected ; but found )
)
^

- org.graalvm.polyglot.Context.eval(Context.java:425)
- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)
- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

- com.intuit.karate.graal.JsEngine.fromJsEvalException(JsEngine.java:224)
- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1192)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:59)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)
- <js>.generateJwtToken(Unnamed:2)

classpath:test/generateToken.feature:4
15:41:14.300 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:41:15.814 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:41:15.964 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = karate.call('classpath:generateJwtToken.js')
js failed:
>>>>
01: karate.call('classpath:generateJwtToken.js')
<<<<
org.graalvm.polyglot.PolyglotException: not found: generateJwtToken.js
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)
- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:162)
- com.intuit.karate.core.ScenarioBridge.call(ScenarioBridge.java:149)

classpath:test/generateToken_copy.feature:23
15:43:57.255 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:43:58.769 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:43:58.861 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:anonymous(Unnamed:7)

classpath:test/generateToken_copy.feature:23
14:52:58.333 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
14:53:08.445 [main] INFO  com.intuit.karate - karate.env system property was: null 
14:53:08.985 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:anonymous(Unnamed:7)

classpath:test/generateToken_copy.feature:23
15:02:38.685 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:02:41.114 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:02:41.266 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:anonymous(Unnamed:7)

classpath:test/generateToken_copy.feature:23
15:05:37.250 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:05:38.922 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:05:39.111 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:anonymous(Unnamed:7)

classpath:test/generateToken_copy.feature:23
15:07:24.762 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
15:07:26.843 [main] INFO  com.intuit.karate - karate.env system property was: null 
15:07:27.359 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (setPayload) on io.jsonwebtoken.impl.DefaultJwtBuilder@2b289ac9 failed due to: Cannot convert '[object Object]'(language: JavaScript, type: Object) to Java type 'java.lang.String': Invalid or lossy primitive coercion.
- <js>.:anonymous(Unnamed:8)

classpath:test/generateToken_copy.feature:23
16:23:34.429 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:23:36.589 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:23:36.997 [main] ERROR com.intuit.karate - classpath:test/generateToken_copy.feature:23
* def jwtToken = generateJwtToken()
js failed:
>>>>
01: generateJwtToken()
<<<<
org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (setPayload) on io.jsonwebtoken.impl.DefaultJwtBuilder@2b289ac9 failed due to: Cannot convert '[object Object]'(language: JavaScript, type: Object) to Java type 'java.lang.String': Invalid or lossy primitive coercion.
- <js>.:anonymous(Unnamed:8)

classpath:test/generateToken_copy.feature:23
16:24:24.814 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:24:26.136 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:24:26.287 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:20
And header Authorization = token
js failed:
>>>>
01: token
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "token" is not defined
- <js>.:program(Unnamed:1)

classpath:test/readJSON_copy3.feature:20
16:24:51.779 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:24:53.087 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:24:53.591 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: ytwuiergyqwukrgfkwuegruwegyruiwer
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

16:24:54.543 [main] DEBUG com.intuit.karate - response time in milliseconds: 938
1 < 200
1 < Server: nginx
1 < Date: Fri, 28 Apr 2023 10:54:54 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 33
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:24:54.618 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:29:37.335 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:29:38.685 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:29:39.191 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: ytwuiergyqwukrgfkwuegruwegyruiwer
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

16:29:39.574 [main] DEBUG com.intuit.karate - response time in milliseconds: 378
1 < 200
1 < Server: nginx
1 < Date: Fri, 28 Apr 2023 10:59:39 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 7
1 < X-Kong-Proxy-Latency: 0
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:29:39.618 [main] INFO  com.intuit.karate - [print] {
  "result": {
    "status": "failed",
    "statusCode": "PAY_1002",
    "message": "Invalid credentials."
  }
}
 
16:30:19.797 [main] DEBUG com.intuit.karate.Suite - [config] classpath:karate-config.js
16:30:21.220 [main] INFO  com.intuit.karate - karate.env system property was: null 
16:30:21.722 [main] DEBUG com.intuit.karate - request:
1 > POST https://apitest.livquik.com/api/v1/bnpl/processPayment
1 > Content-Type: application/json; charset=UTF-8
1 > Authorization: ytwuiergyqwukrgfkwuegruwegyruiwer
1 > TENANT: KOTAK_BNPL
1 > public-key: Bearer cGtfbGl2ZV94NjIzRkpNZmFJbmk6c2tfbGl2ZV9xeUVwSUJaQWQxcG1aNk9oMklUOG43UjlmSzFVbmM2aEQ3VGtHSUxy
1 > User-Agent: PostmanRuntime/7.31.1
1 > Content-Length: 82
1 > Host: apitest.livquik.com
1 > Connection: Keep-Alive
1 > Accept-Encoding: gzip,deflate
{"mobileNumber":"+918722000003","deviceId":"9F0D7162-F90E-41B7-8357-88891C33F0ED"}

16:30:22.105 [main] DEBUG com.intuit.karate - response time in milliseconds: 379
1 < 200
1 < Server: nginx
1 < Date: Fri, 28 Apr 2023 11:00:22 GMT
1 < Content-Type: application/json
1 < Transfer-Encoding: chunked
1 < Connection: keep-alive
1 < Vary: Accept-Encoding
1 < Vary: Origin
1 < Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
1 < Cross-Origin-Embedder-Policy: require-corp
1 < Cross-Origin-Opener-Policy: same-origin
1 < Cross-Origin-Resource-Policy: same-origin
1 < X-DNS-Prefetch-Control: off
1 < X-Frame-Options: SAMEORIGIN
1 < X-Frame-Options: SAMEORIGIN
1 < Strict-Transport-Security: max-age=31536000; includeSubDomains
1 < Strict-Transport-Security: max-age=432000; includeSubDomains
1 < X-Download-Options: noopen
1 < X-Content-Type-Options: nosniff
1 < X-Content-Type-Options: nosniff
1 < Origin-Agent-Cluster: ?1
1 < X-Permitted-Cross-Domain-Policies: none
1 < Referrer-Policy: no-referrer
1 < X-XSS-Protection: 0
1 < X-XSS-Protection: 1; mode=block
1 < X-Powered-By: Express
1 < vary: Accept-Encoding
1 < vary: Origin
1 < X-Kong-Upstream-Latency: 9
1 < X-Kong-Proxy-Latency: 2
1 < Via: kong/2.7.0.0-enterprise-edition
{"result":{"status":"failed","statusCode":"PAY_1002","message":"Invalid credentials."}}

16:30:22.126 [main] ERROR com.intuit.karate - classpath:test/readJSON_copy3.feature:29
And match $.result.message == 'Invalid'
match failed: EQUALS
  $ | not equal (STRING:STRING)
  'Invalid credentials.'
  'Invalid'

classpath:test/readJSON_copy3.feature:29
