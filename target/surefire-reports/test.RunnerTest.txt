-------------------------------------------------------------------------------
Test set: test.RunnerTest
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.728 s <<< FAILURE! - in test.RunnerTest
process_payment[1][1]  Time elapsed: 2.525 s  <<< FAILURE!
org.opentest4j.AssertionFailedError: 
js failed:
>>>>
01: const jwt = require("jsonwebtoken");
02: const fs = require('fs');
03: const reqBody = {
04:   mobileNumber: "+918369221597",
05:   deviceId: "123456",
06:   channel: "app",
07:   merchantId: "fzAMJrXcr",
08:   amount: "1000",
09:   currency: "INR"
10: };
11: const secretKey = "sk_live_1IQbrlbJbsUbwECZSIesC94A6JlY2fbTnlFJu7yT";
12: function generateToken(reqBody, secretKey) {
13:   const token = jwt.sign(reqBody, secretKey, { expiresIn: 60 * 15 });
14:   return token;
15: }
16: const token = generateToken(reqBody, secretKey);
17: try {
18:   fs.writeFileSync('token.json', JSON.stringify({ token: token })
19: );
20:   // file written successfully
21: } catch (err) {
22:   console.error(err);
23: }
<<<<
org.graalvm.polyglot.PolyglotException: ReferenceError: "require" is not defined
- <js>.:program(Unnamed:1)

classpath:test/js_executor.feature:6

